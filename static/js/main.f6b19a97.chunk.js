(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{120:function(e,t,a){},122:function(e,t,a){},189:function(e,t,a){e.exports=a(367)},194:function(e,t,a){},195:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t),a.d(t,"PLACEHOLDER_GDP_DATA",(function(){return n})),a.d(t,"PLACEHOLDER_TOP_INDUSTRY",(function(){return r})),a.d(t,"PLACEHOLDER_GROWING_INDUSTRY",(function(){return l})),a.d(t,"PLACEHOLDER_ELECTION_RESULT",(function(){return i})),a.d(t,"PLACEHOLDER_STATE_GDP_RANK",(function(){return o})),a.d(t,"PLACEHOLDER_GDP_GROWTH_PERCENTILE",(function(){return s})),a.d(t,"PLACEHOLDER_COUNTY_VOTING_FOR_PARTY",(function(){return c})),a.d(t,"PLACEHOLDER_NUM_COUNTY_IN_STATE",(function(){return u})),a.d(t,"PLACEHOLDER_COUNTY_NAME",(function(){return d})),a.d(t,"PLACEHOLDER_COUNTY_STATE",(function(){return h})),a.d(t,"CANDIDATE_IMAGE",(function(){return m})),a.d(t,"INDUSTRY_ICON",(function(){return p})),a.d(t,"STATES",(function(){return g}));var n=Array(18).fill(0),r=Array.from({length:5}).fill({Description:"",GDP:0}),l=Array.from({length:5}).fill({Description:"",Growth:"0"}),i=[{Year:2016,DemCandidate:"Hillary Clinton",RepCandidate:"Donald Trump",DemVote:0,RepVote:0,TotalVote:0},{Year:2012,DemCandidate:"Barack Obama",RepCandidate:"Mitt Romney",DemVote:0,RepVote:0,TotalVote:0},{Year:2008,DemCandidate:"Barack Obama",RepCandidate:"John McCain",DemVote:0,RepVote:0,TotalVote:0},{Year:2004,DemCandidate:"John Kerry",RepCandidate:"George W. Bush",DemVote:0,RepVote:0,TotalVote:0},{Year:2e3,DemCandidate:"Al Gore",RepCandidate:"George W. Bush",DemVote:0,RepVote:0,TotalVote:0}],o="N/A",s="N/A",c="",u=0,d="County",h="State",m={"Donald Trump":"donald_trump.jpg","Hillary Clinton":"hillary_clinton.jpg","Barack Obama":"barack_obama.jpg","Mitt Romney":"mitt_romney.jpg","John McCain":"john_mccain.jpg","John Kerry":"john_kerry.jpg","George W. Bush":"george_bush.jpg","Al Gore":"al_gore.jpg"},p={"Agriculture, forestry, fishing and hunting":"industry_02.png","Mining, quarrying, and oil and gas extraction":"industry_03.png",Utilities:"industry_04.png",Construction:"industry_05.png","Durable goods manufacturing":"industry_07.png","Nondurable goods manufacturing":"industry_08.png","Wholesale trade":"industry_09.png","Retail trade":"industry_10.png","Transportation and warehousing":"industry_11.png",Information:"industry_12.png","Finance and insurance":"industry_14.png","Real estate and rental and leasing":"industry_15.png","Professional, scientific, and technical services":"industry_17.png","Management of companies and enterprises":"industry_18.png","Administrative and support and waste management and remediation services":"industry_19.png","Educational services":"industry_21.png","Health care and social assistance":"industry_22.png","Arts, entertainment, and recreation":"industry_24.png","Accommodation and food services":"industry_25.png","Other services (except government and government enterprises)":"industry_26.png","Government and government enterprises":"industry_27.png"},g=["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"]},367:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(183),i=a.n(l),o=(a(194),a(187)),s=a(14);a(195);var c=function(){var e={padding:20,fontSize:24,color:"white"};return r.a.createElement("nav",{className:"Navbar",style:{top:0,width:"100%",background:"#cc0000",padding:15,textAlign:"center"},id:"navbar"},r.a.createElement("a",{href:"/election-app/map",style:e},"Map"),r.a.createElement("a",{href:"/election-app/graph",style:e},"Graph"),r.a.createElement("a",{href:"/election-app/trends",style:e},"Trends"),r.a.createElement("a",{href:"/election-app/county",style:e},"County Details"))},u=a(63),d=a(8),h=a(9),m=a(11),p=a(10),g=(a(196),a(120),a(184)),E=a(29),f=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(h.a)(a,[{key:"render",value:function(){for(var e="".concat(C,"/icons/industry"),t=this.props.gdpData,a=this.props.topIndustry,n=this.props.fastestGrowthIndustry,l=[[{type:"string",label:"Year"},{type:"number",label:"Growth"}]],i=1;i<t.length;i++)l.push([2001+i+"",100*(t[i]/t[i-1]-1)]);return r.a.createElement("div",{className:"col-sm economy-panel"},r.a.createElement("div",{className:"economy-panel-title"},"Economy"),r.a.createElement("div",{className:"econ-tile-container"},r.a.createElement("div",{className:"econ-subpanel-title",style:{textAlign:"left",paddingBottom:"3vh"}},"Overview"),r.a.createElement("table",{className:"econ-tile-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"econ-tile-title"},"GDP\n\n(2018)"),r.a.createElement("td",{className:"econ-tile-separator"}),r.a.createElement("td",{className:"econ-tile-title"},"Avg. Annual Growth\n(2001-2018)"),r.a.createElement("td",{className:"econ-tile-separator"}),r.a.createElement("td",{className:"econ-tile-title"},"Top Industry"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{id:"total-gdp-number",className:"econ-tile"},0===t[0]?"N/A":"$"+(t[t.length-1]/1e6).toFixed(1)+" bn"),r.a.createElement("td",null),r.a.createElement("td",{id:"gdp-cagr-number",className:"econ-tile"},0===t[0]?"N/A":(100*(Math.pow(t[t.length-1]/t[0],1/t.length)-1)).toFixed(2)+"%"),r.a.createElement("td",null),r.a.createElement("td",{className:"econ-tile"},""===a[0].Description?null:r.a.createElement("img",{className:"econ-tile-image",src:"".concat(e,"/").concat(E.INDUSTRY_ICON[a[0].Description]),alt:a[0].Description}),r.a.createElement("div",{id:"top-industry-image-caption",className:"econ-tile-image-caption"},a[0].Description))),r.a.createElement("tr",null,r.a.createElement("td",null,"\xa0")),r.a.createElement("tr",null,r.a.createElement("td",{className:"econ-tile-title"},"State GDP Rank"),r.a.createElement("td",{className:"econ-tile-separator"}),r.a.createElement("td",{className:"econ-tile-title"},"Avg. Annual Growth National Percentile"),r.a.createElement("td",{className:"econ-tile-separator"}),r.a.createElement("td",{className:"econ-tile-title"},"Fastest Growing Industry")),r.a.createElement("tr",null,r.a.createElement("td",{id:"state-gdp-rank",className:"econ-tile"},0===t[0]?"N/A":this.props.stateGDPRank),r.a.createElement("td",null),r.a.createElement("td",{id:"gdp-growth-percentile",className:"econ-tile"},0===t[0]?"N/A":this.props.GDPGrowthPercentile),r.a.createElement("td",null),r.a.createElement("td",{className:"econ-tile"},""===n[0].Description?null:r.a.createElement("img",{className:"econ-tile-image",src:"".concat(e,"/").concat(E.INDUSTRY_ICON[n[0].Description]),alt:n[0].Description}),r.a.createElement("div",{id:"growing-industry-image-caption",className:"econ-tile-image-caption"},n[0].Description)))))),r.a.createElement("div",{id:"gdp-growth-chart"},r.a.createElement("div",{className:"econ-subpanel-title"},"GDP Growth"),r.a.createElement(g.a,{chartType:"LineChart",loader:r.a.createElement("div",null,"Loading Chart"),data:l,options:{legend:"none",vAxis:{title:"% YoY"}}})),r.a.createElement("div",{className:"econ-subpanel-container"},r.a.createElement("div",{className:"econ-subpanel-title"},"Top 5 Industries"),r.a.createElement("table",{className:"econ-subpanel-table"},r.a.createElement("colgroup",null,r.a.createElement("col",{style:{width:"20%"}}),r.a.createElement("col",{style:{width:"60%"}}),r.a.createElement("col",{style:{width:"10%"}})),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",{className:"econ-subpanel-table-pct-header"},r.a.createElement("b",null,"%GDP")))),r.a.createElement("tbody",null,a.map((function(n,l){var i=0===t[t.length-1]?0:a[0].GDP/t[t.length-1]*100,o=0===t[t.length-1]?0:n.GDP/t[t.length-1]*100;return r.a.createElement("tr",{key:l},r.a.createElement("td",null,r.a.createElement("div",null,""===n.Description?null:r.a.createElement("img",{className:"econ-subpanel-table-image",src:"".concat(e,"/").concat(E.INDUSTRY_ICON[n.Description]),alt:n.Description}),r.a.createElement("p",{id:"top-gdp-desc-".concat(l),className:"econ-subpanel-table-image-caption"},n.Description))),r.a.createElement("td",{className:"econ-subpanel-table-bar-container"},r.a.createElement("div",{className:"econ-subpanel-table-bar top-gdp-bar",style:{width:0===i?0:.9*Math.max(0,Math.round(o/i*100))+"%"}},"\xa0")),r.a.createElement("td",{id:"top-gdp-value-".concat(l)},0===i?null:o.toFixed(1)))}))))),r.a.createElement("div",{className:"econ-subpanel-container"},r.a.createElement("div",{className:"econ-subpanel-title"},"Fastest Growing Industries"),r.a.createElement("table",{className:"econ-subpanel-table"},r.a.createElement("colgroup",null,r.a.createElement("col",{style:{width:"20%"}}),r.a.createElement("col",{style:{width:"60%"}}),r.a.createElement("col",{style:{width:"10%"}})),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",{className:"econ-subpanel-table-pct"},r.a.createElement("b",null,"%")))),r.a.createElement("tbody",null,n.map((function(t,a){var l=parseFloat(n[0].Growth),i=parseFloat(t.Growth);return r.a.createElement("tr",{key:a},r.a.createElement("td",null,r.a.createElement("div",null,""===t.Description?null:r.a.createElement("img",{className:"econ-subpanel-table-image",src:"".concat(e,"/").concat(E.INDUSTRY_ICON[t.Description]),alt:t.Description}),r.a.createElement("p",{id:"growing-industry-desc-".concat(a),className:"econ-subpanel-table-image-caption"},t.Description))),r.a.createElement("td",{className:"econ-subpanel-table-bar-container"},r.a.createElement("div",{className:"econ-subpanel-table-bar growing-industries-bar",style:{width:0===l?0:.9*Math.max(0,Math.round(i/l*100))+"%"}},"\xa0")),r.a.createElement("td",{id:"growing-industry-value-".concat(a)},0===l?null:i.toFixed(1)))}))))))}}]),a}(r.a.Component);var y=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.electionResult,t=function(e){if(5!==e.length)return 50;var t=0,a=[.5,.2,.2,.05,.05],n=0;return e.forEach((function(e,r){var l=parseInt(e.TotalVote),i=100*parseInt(e.RepVote)/l;n+=i>50?1:0,t+=i*a[r]})),n>=4&&(t=Math.min(100,t+10)),n<=2&&(t=Math.max(0,t-10)),t}(e),a=function(e){var t=0,a=0,n=0,r=0,l=0,i=0,o=0;return e.forEach((function(e,s){var c=parseInt(e.TotalVote),u=100*parseInt(e.DemVote)/c,d=100*parseInt(e.RepVote)/c;d>u?(t+=1,r+=d-u):(a+=1,n+=u-d),0===s&&(o=c),3===s&&(i=c),4===s&&(l=c)})),{WinnerParty:t>=3?"Republican":"Democratic",WinnerCount:t>=3?t:5-t,WinnerLead:t>=3?r/t:n/a,LastNumVotes:o,NumVoteChangePct2001:100*(o/l-1),NumVoteChangePct2012:100*(i/l-1)}}(e);return r.a.createElement("div",{className:"col-sm election-panel"},r.a.createElement("div",{className:"election-panel-title"},"Elections"),r.a.createElement("table",{className:"election-table"},r.a.createElement("tbody",null,r.a.createElement("tr",{className:"election-table-year-container"},r.a.createElement("td",{style:{textAlign:"left"}},r.a.createElement("b",null,"Democrats")),r.a.createElement("td",{style:{textAlign:"left"}},r.a.createElement("b",null,"Lean Dem")),r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement("b",null,"Swing")),r.a.createElement("td",{style:{textAlign:"right"}},r.a.createElement("b",null,"Lean Rep")),r.a.createElement("td",{style:{textAlign:"right"}},r.a.createElement("b",null,"Republican"))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:5,style:{backgroundImage:"linear-gradient(to right, blue, lightblue, lightpink, red)"}},"\xa0")),0===this.props.electionResult[0].TotalVote?null:r.a.createElement(n.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"5"},r.a.createElement("div",{className:"arrow-up",style:{marginLeft:"".concat(t-3.5,"%")}},"\xa0"))),r.a.createElement("tr",null,r.a.createElement("td",null,"\xa0")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"5",style:{textAlign:"justify"}},r.a.createElement("ul",null,r.a.createElement("li",{id:"elec-points-0"},a.WinnerParty," candidates won ",a.WinnerCount," out of the last 5 general elections in ",this.props.countyName," County, ",this.props.countyState,"."),r.a.createElement("li",{id:"elec-points-1"},"The ",a.WinnerParty," winners, on average, lead by ",a.WinnerLead.toFixed(1)," percentage point."),r.a.createElement("li",{id:"elec-points-2"},a.LastNumVotes," in ",this.props.countyName," County voted 2016 election, a ",a.NumVoteChangePct2012.toFixed(1),"% ",a.NumVoteChangePct2012>0?"increase":"decrease"," to that of 2012, a ",a.NumVoteChangePct2001.toFixed(1),"% ",a.NumVoteChangePct2001>0?"increase":"decrease"," to that of 2001."),this.props.countyVotingForParty.length-1===0?r.a.createElement("li",{id:"elec-points-3"},this.props.countyName," County is the only county (out of ",this.props.numCountyInState,") in ",this.props.countyState," where the ",a.WinnerParty," candidate won."):r.a.createElement("li",{id:"elec-points-3"},this.props.countyName," County joins ",this.props.countyVotingForParty.length-1," other counties in ",this.props.countyState," that pre-dominantly voted for ",a.WinnerParty," candidate in 2016, out of the ",this.props.numCountyInState," counties in ",this.props.countyState,"."))))))),r.a.createElement("table",{className:"election-table"},r.a.createElement("tbody",null,e.map((function(e,t){var a=parseInt(e.TotalVote),l=100*parseInt(e.DemVote)/a,i=100*parseInt(e.RepVote)/a,o=isNaN(l)?0:Math.round(l),s=isNaN(i)?0:Math.round(i);return console.log(o,s),r.a.createElement(n.Fragment,{key:t},r.a.createElement("tr",{className:"election-table-year-container"},r.a.createElement("td",null),r.a.createElement("td",{className:"election-table-year",colSpan:2},r.a.createElement("h3",null,e.Year)),r.a.createElement("td",null)),r.a.createElement("tr",{className:"election-table-result-container",key:t},r.a.createElement("td",{className:"headshot-container"},r.a.createElement("img",{src:"/election-app"+"/assets/images/candidate/".concat(E.CANDIDATE_IMAGE[e.DemCandidate]),alt:e.DemCandidate,className:"headshot"}),e.DemCandidate),r.a.createElement("td",{className:"democrat-results-container"},0===a||l<i?null:r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/b/bd/Checkmark_green.svg",alt:"",className:"democrat-vote-checkmark",style:{marginLeft:"".concat(Math.min(77,100-o+5),"%")}}),r.a.createElement("div",{className:"democrat-vote-bar",style:{marginLeft:"".concat(100-Math.round(o),"%")}},"\xa0"),r.a.createElement("div",{id:"elec-dem-pct-".concat(t)},(0===a?0:l.toFixed(1))+"%"),r.a.createElement("div",{id:"elec-dem-vote-".concat(t)},"(",e.DemVote,")")),r.a.createElement("td",{className:"republican-results-container"},0===a||l>i?null:r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/b/bd/Checkmark_green.svg",alt:"",className:"republican-vote-checkmark",style:{marginRight:"".concat(Math.min(77,100-s),"%")}}),r.a.createElement("div",{className:"republican-vote-bar",style:{width:s+"%"}},"\xa0"),r.a.createElement("div",{id:"elec-rep-pct-".concat(t)},"\xa0 ",(0===a?0:i.toFixed(1))+"%"),r.a.createElement("div",{id:"elec-rep-vote-".concat(t)},"\xa0 (",e.RepVote,")")),r.a.createElement("td",{className:"headshot-container"},r.a.createElement("img",{src:"/election-app"+"/assets/images/candidate/".concat(E.CANDIDATE_IMAGE[e.RepCandidate]),alt:e.RepCandidate,className:"headshot"}),e.RepCandidate)))})))))}}]),a}(r.a.Component),v=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).ERR=function(e){console.log(e)},n.getCounties=function(e){fetch(z.concat("/counties?state=".concat(e))).then((function(e){return e.json()}),n.ERR).then((function(e){if(void 0===e||null===e||0===e.length)n.setState({counties:[]});else{var t=e.map((function(e,t){return r.a.createElement("div",{id:"btn-county-".concat(e.NAME),className:"btn btn-county",key:t,onClick:function(){return n.props.getNewCounty(e.FIPS)}},e.NAME)}));n.setState({counties:t})}}),n.ERR)},n.state={counties:[]},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"county-finder container"},r.a.createElement("div",{id:"county-finder",className:"row"},r.a.createElement("h2",null,r.a.createElement("b",null,"Find a county:"))),r.a.createElement("div",{className:"row"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",{id:"county-finder-state-container"},r.a.createElement("td",null,r.a.createElement("b",null,"State")),r.a.createElement("td",null,E.STATES.map((function(t,a){return r.a.createElement("div",{className:"btn btn-state",key:a,onClick:function(){return e.getCounties(t)},id:"btn-state-".concat(t)},t)})))),0===this.state.counties.length?null:r.a.createElement("tr",{id:"county-finder-state-container"},r.a.createElement("td",null,r.a.createElement("b",null,"County")),r.a.createElement("td",null,this.state.counties))))))}}]),a}(r.a.Component),b=a(29);a(121).config();var C="/election-app/assets",N=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).getNewCounty=function(e){var t=function(e){console.log(e)};fetch(z.concat("/counties?fips=".concat(e))).then((function(e){return e.json()}),t).then((function(t){void 0===t||null===t||0===t.length?(n.setState({countyName:b.PLACEHOLDER_COUNTY_NAME,countyState:b.PLACEHOLDER_COUNTY_STATE}),document.title="County Details"):(n.setState({countyName:t[0].NAME,countyState:t[0].STATE}),window.history.pushState({},null,"/election-app"+"/county/".concat(e)),document.getElementById("county-profile").scrollIntoView()),document.title="".concat(n.state.countyName,", ").concat(n.state.countyState," - County Details")})),fetch(z.concat("/elections?fips=".concat(e))).then((function(e){return e.json()}),t).then((function(e){if(void 0===e||null===e||0===e.length)n.setState({electionResult:b.PLACEHOLDER_ELECTION_RESULT});else{for(var t=[],a=0,r=Object(u.a)(Array(e.length/2).keys());a<r.length;a++){var l=r[a],i=e[2*l],o=e[2*l+1];t.push({Year:i.YEAR,DemCandidate:i.CANDIDATE_NAME,RepCandidate:o.CANDIDATE_NAME,DemVote:i.CANDIDATE_VOTES,RepVote:o.CANDIDATE_VOTES,TotalVote:i.TOTAL_VOTES})}n.setState({electionResult:t})}})),fetch(z.concat("/annual-gdp?fips=".concat(e))).then((function(e){return e.json()}),t).then((function(e){if(void 0===e||null===e||0===e.length)n.setState({gdpData:b.PLACEHOLDER_GDP_DATA});else{for(var t=[],a=0,r=Object(u.a)(Array(e.length).keys());a<r.length;a++){var l=r[a];t.push(e[l].GDP)}n.setState({gdpData:t})}})),fetch(z.concat("/top-industry?fips=".concat(e))).then((function(e){return e.json()}),t).then((function(e){if(void 0===e||null===e||0===e.length)n.setState({topIndustry:b.PLACEHOLDER_TOP_INDUSTRY});else{for(var t=[],a=0,r=Object(u.a)(Array(e.length).keys());a<r.length;a++){var l=r[a];t.push({Description:e[l].Description,GDP:e[l].GDP})}n.setState({topIndustry:t})}})),fetch(z.concat("/growing-industry?fips=".concat(e))).then((function(e){return e.json()}),n.ERR).then((function(e){if(void 0===e||null===e||0===e.length)n.setState({growingIndustry:b.PLACEHOLDER_GROWING_INDUSTRY});else{for(var t=[],a=0,r=Object(u.a)(Array(e.length).keys());a<r.length;a++){var l=r[a];t.push({Description:e[l].Description,Growth:e[l].Growth})}n.setState({growingIndustry:t})}})),fetch(z.concat("/gdp-growth-percentile?fips=".concat(e))).then((function(e){return e.json()}),n.ERR).then((function(e){if(void 0===e||null===e||0===e.length)n.setState({GDPGrowthPercentile:b.PLACEHOLDER_GDP_GROWTH_PERCENTILE});else{var t=(100*e[0].PERCENTILE).toFixed(1)+"%";n.setState({GDPGrowthPercentile:t})}})),fetch(z.concat("/state-gdp-rank?fips=".concat(e))).then((function(e){return e.json()}),n.ERR).then((function(e){if(void 0===e||null===e||0===e.length)n.setState({stateGDPRank:b.PLACEHOLDER_STATE_GDP_RANK});else{var t="".concat(e[0].COUNTY_GDP_RANK," / ").concat(e[0].STATE_COUNTY_COUNT);n.setState({stateGDPRank:t,numCountyInState:e[0].STATE_COUNTY_COUNT})}})),fetch(z.concat("/county-voting-for-party?fips=".concat(e))).then((function(e){return e.json()}),n.ERR).then((function(e){void 0===e||null===e||0===e.length?n.setState({countyVotingForParty:b.PLACEHOLDER_COUNTY_VOTING_FOR_PARTY}):n.setState({countyVotingForParty:e})}))},n.state={countyName:b.PLACEHOLDER_COUNTY_NAME,countyState:b.PLACEHOLDER_COUNTY_STATE,gdpData:b.PLACEHOLDER_GDP_DATA,growingIndustry:b.PLACEHOLDER_GROWING_INDUSTRY,topIndustry:b.PLACEHOLDER_TOP_INDUSTRY,electionResult:b.PLACEHOLDER_ELECTION_RESULT,GDPGrowthPercentile:b.PLACEHOLDER_GDP_GROWTH_PERCENTILE,stateGDPRank:b.PLACEHOLDER_STATE_GDP_RANK,countyVotingForParty:b.PLACEHOLDER_COUNTY_VOTING_FOR_PARTY,numCountyInState:b.PLACEHOLDER_NUM_COUNTY_IN_STATE},document.title="County Details",n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){void 0!==this.props.match&&void 0!==this.props.match.params.fips&&this.getNewCounty(this.props.match.params.fips)}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(v,{getNewCounty:this.getNewCounty}),r.a.createElement("div",{id:"county-profile"}),this.state.countyName===b.PLACEHOLDER_COUNTY_NAME?null:r.a.createElement("div",{id:"county-details",className:"container"},r.a.createElement("div",{id:"county-name-container"},r.a.createElement("h1",{id:"county-name"},""===this.state.countyName?"County Name, State":"".concat(this.state.countyName,", ").concat(this.state.countyState))),r.a.createElement("div",{className:"panel-container container"},r.a.createElement("div",{className:"row"},r.a.createElement(f,{gdpData:this.state.gdpData,topIndustry:this.state.topIndustry,fastestGrowthIndustry:this.state.growingIndustry,GDPGrowthPercentile:this.state.GDPGrowthPercentile,stateGDPRank:this.state.stateGDPRank}),r.a.createElement(y,{electionResult:this.state.electionResult,countyVotingForParty:this.state.countyVotingForParty,countyName:this.state.countyName,countyState:this.state.countyState,numCountyInState:this.state.numCountyInState})))))}}]),a}(r.a.Component),D=a(12),O=(a(122),a(186)),R=a.n(O),A=a(116),T=a.n(A);T.a.register([a(346)]);var _,S=R()(T.a),P=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).topIndustryColorscale=[["0.0","forestgreen"],["0.05","dimgray"],["0.1","aquamarine"],["0.15","goldenrod"],["0.2","blue"],["0.25","mediumslateblue"],["0.3","yellow"],["0.35","darkcyan"],["0.4","deepskyblue"],["0.45","darkviolet"],["0.5","deeppink"],["0.55","lawngreen"],["0.6","lightcoral"],["0.65","maroon"],["0.7","midnightblue"],["0.75","wheat"],["0.8","orangered"],["0.85","orchid"],["0.9","silver"],["0.95","darkorange"],["1.0","red"]],n.state={fips:[],names:[],z:[],industries:[],nonAggregateIndustries:[],nonAggregateIndIDs:[],topIndustryColorbar:[],customdata:[],colorscale:"",title:"",zmin:0,zmax:0,zauto:!0,width:0,height:0,year:e.year,queryURL:e.queryURL,filter:e.filter,filterYear:e.filterYear,operand:e.operand,val:e.val,industry:e.industry,hovertemplate:"",showscale:!0},n.updateDimensions=n.updateDimensions.bind(Object(D.a)(n)),n}return Object(h.a)(a,[{key:"gdpColorscale",value:function(e){for(var t=[],a=e.length,n=0;n<a;n++)"number"===typeof e[n]&&t.push(e[n]);t.sort((function(e,t){return e-t})),a=t.length;var r=t[0],l=t[a-1]-r,i=t[Math.floor(.2*a)-1];i=((i-r)/l).toString();var o=t[Math.floor(.4*a)-1];o=((o-r)/l).toString();var s=t[Math.floor(.6*a)-1];s=((s-r)/l).toString();var c=t[Math.floor(.8*a)-1];return[["0.0","#0000ff"],[i,"#00ffff"],[o,"#00ff00"],[s,"#ffff00"],[c=((c-r)/l).toString(),"#ff0000"],["1.0","#ff00ff"]]}},{key:"colorscale",value:function(e,t){return e.startsWith("/rep-dem-diff")?"RdBu":e.startsWith("/rep-votes")?[["0.0","white"],["1.0","red"]]:e.startsWith("/dem-votes")?[["0.0","white"],["1.0","blue"]]:e.startsWith("/other-votes")?[["0.0","white"],["1.0","green"]]:e.includes("gdp")?t:e.startsWith("/top-industry")?this.topIndustryColorscale:void 0}},{key:"title",value:function(e){return e.startsWith("/rep-dem-diff")?"% Republican votes - % Democrat votes in "+this.state.year:e.startsWith("/rep-votes")?"% Republican votes in "+this.state.year:e.startsWith("/dem-votes")?"% Democrat votes in "+this.state.year:e.startsWith("/other-votes")?"% Other votes in "+this.state.year:e.startsWith("/total-gdp")?"Total GDP (millions of dollars) in "+this.state.year:e.startsWith("/industry-gdp")?"% GDP from "+this.getIndustryName(this.state.industry)+" in "+this.state.year:e.startsWith("/top-industry")?"Top Industry (non-aggregate) in "+this.state.year:void 0}},{key:"zMinMaxAuto",value:function(e){return e.startsWith("/rep-dem-diff")?[-100,100,!1]:e.startsWith("/rep-votes")||e.startsWith("/dem-votes")?[0,100,!1]:e.startsWith("/top-industry")?[0,20,!1]:[0,100,!0]}},{key:"hovertemplate",value:function(e){return e.startsWith("/top-industry")||e.startsWith("/total-gdp")?"<b>%{text}</b><br>%{customdata}<extra></extra>":"<b>%{text}</b><br>%{z}<extra></extra>"}},{key:"queryZ",value:function(){var e=this,t=this.state.queryURL+"?year="+this.state.year+"&filter="+this.state.filter+"&filteryear="+this.state.filterYear+"&operand="+this.state.operand+"&val="+this.state.val+"&industry="+this.state.industry,a=this.state,n=[];fetch(H.concat(t),{method:"GET"}).then((function(e){return e.json()}),(function(e){console.log(e)})).then((function(r){if(r){var l=r.map((function(e,t){return e.Z}));if(t.startsWith("/top-industry"))for(var i=0;i<l.length;i++)n.push(e.state.nonAggregateIndustries[e.state.nonAggregateIndIDs.indexOf(l[i])]),null!==l[i]&&(l[i]=e.state.nonAggregateIndIDs.indexOf(l[i]));else if(t.startsWith("/total-gdp"))for(var o=0;o<l.length;o++)null===l[o]?n.push(null):n.push(l[o].toString());var s=e.gdpColorscale(l),c=e.zMinMaxAuto(t);a!==e.state&&e.state.z.length>0||e.setState({colorscale:e.colorscale(t,s),title:e.title(t),zmin:c[0],zmax:c[1],zauto:c[2],hovertemplate:e.hovertemplate(t),showscale:!t.startsWith("/top-industry"),z:l,customdata:n})}}),(function(e){console.log(e)}))}},{key:"getIndustryName",value:function(e){return this.state.industries[e-1]}},{key:"componentDidMount",value:function(){var e=this;fetch(H.concat("/counties"),{method:"GET"}).then((function(e){return e.json()}),(function(e){console.log(e)})).then((function(t){if(t){var a=t.map((function(e,t){return e.FIPS})),n=t.map((function(e,t){return e.NAME}));e.setState({fips:a,names:n})}}),(function(e){console.log(e)})),fetch(H.concat("/industries"),{method:"GET"}).then((function(e){return e.json()}),(function(e){console.log(e)})).then((function(t){if(t){var a,n=t.map((function(e,t){return e.NAME}));for(a=0;a<n.length;a++)n[a].includes("2/")?n[a]=n[a].substring(0,n[a].indexOf("2/")):n[a].includes("3/")&&(n[a]=n[a].substring(0,n[a].indexOf("3/")));e.setState({industries:n})}}),(function(e){console.log(e)})),fetch(H.concat("/non-aggregate-industries"),{method:"GET"}).then((function(e){return e.json()}),(function(e){console.log(e)})).then((function(t){if(t){var a,n=t.map((function(e,t){return e.NAME})),l=t.map((function(e,t){return e.INDUSTRY_ID})),i=[];for(a=0;a<n.length;a++)n[a].includes("2/")?n[a]=n[a].substring(0,n[a].indexOf("2/")):n[a].includes("3/")&&(n[a]=n[a].substring(0,n[a].indexOf("3/"))),i.push(r.a.createElement("div",{className:"colorbarBox"},r.a.createElement("div",{className:"colorBox",style:{backgroundColor:e.topIndustryColorscale[a][1]}}),r.a.createElement("p",{className:"colorbarLabel"},n[a])));e.setState({nonAggregateIndustries:n,nonAggregateIndIDs:l,topIndustryColorbar:i})}}),(function(e){console.log(e)})),this.updateDimensions(),window.addEventListener("resize",this.updateDimensions),this.queryZ()}},{key:"updateDimensions",value:function(){var e=Math.min(.9*window.innerWidth,1400),t=e/2;this.setState({width:e,height:t})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"componentWillReceiveProps",value:function(e){this.setState({year:e.year,queryURL:e.queryURL,filter:e.filter,filterYear:e.filterYear,operand:e.operand,val:e.val,industry:e.industry})}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.queryZ()}},{key:"render",value:function(){return r.a.createElement("div",{id:"choroplethWrap"},r.a.createElement(S,{id:"choropleth",data:[{type:"choropleth",geojson:"https://raw.githubusercontent.com/plotly/datasets/master/geojson-counties-fips.json",locations:this.state.fips,z:this.state.z,text:this.state.names,colorscale:this.state.colorscale,zmin:this.state.zmin,zmax:this.state.zmax,zauto:this.state.zauto,hovertemplate:this.state.hovertemplate,customdata:this.state.customdata,showscale:this.state.showscale}],onClick:function(e){window.location.href="/election-app/county/"+e.points[0].location+"#county-profile"},layout:{geo:{scope:"usa"},width:this.state.width,height:this.state.height,autosize:!0,margin:{t:0,b:0,l:0,r:0},title:{text:this.state.title,y:.95},dragmode:!1},config:{responsive:!0}}),this.state.showscale?r.a.createElement("div",null):r.a.createElement("div",{id:"colorbar"},this.state.topIndustryColorbar))}}]),a}(r.a.Component),I=[];for(_=2e3;_<=2018;_++){var L=_.toString();I.push(r.a.createElement("option",{value:L},L))}var w=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={years:[],selectedYear:"2016"},n.handleChange=n.handleChange.bind(Object(D.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.setState({years:I})}},{key:"handleChange",value:function(e){this.setState({selectedYear:e.target.value}),this.props.handleYearChange(e.target.value)}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.forceUpdate()}},{key:"render",value:function(){return r.a.createElement("div",{className:"dropdown"},r.a.createElement("label",{for:"years"},"Year: "),r.a.createElement("select",{name:"years",value:this.state.selectedYear,onChange:this.handleChange},this.state.years))}}]),a}(r.a.Component),k=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={operators:[],selectedOp:"gt"},n.handleChange=n.handleChange.bind(Object(D.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=[];e.push(r.a.createElement("option",{value:"gt",selected:!0},">")),e.push(r.a.createElement("option",{value:"lt"},"<")),this.setState({operators:e})}},{key:"handleChange",value:function(e){this.setState({selectedOp:e.target.value}),this.props.handleOpChange(e.target.value)}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.forceUpdate()}},{key:"render",value:function(){return r.a.createElement("div",{className:"dropdown"},r.a.createElement("label",{for:"operators"},"Comparison: "),r.a.createElement("select",{name:"operators",value:this.state.selectedOp,onChange:this.handleChange},this.state.operators))}}]),a}(r.a.Component),x=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={val:0,filterLabel:"%"},n.handleChange=n.handleChange.bind(Object(D.a)(n)),n}return Object(h.a)(a,[{key:"handleChange",value:function(e){this.setState({val:e.target.value}),this.props.handleValChange(e.target.value)}},{key:"componentWillReceiveProps",value:function(e){this.setState({filterLabel:e.filterLabel})}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.forceUpdate()}},{key:"render",value:function(){return r.a.createElement("div",{className:"cmp-dropdown"},r.a.createElement("input",{type:"number",min:"-9999999",max:"-9999999",name:"cmp-input",value:this.state.val,onChange:this.handleChange}),r.a.createElement("label",{for:"cmp-input"},this.state.filterLabel))}}]),a}(r.a.Component),V=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={vars:[],selectedVar:"RepDemDiff"},n.handleChange=n.handleChange.bind(Object(D.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[];t.push(r.a.createElement("option",{value:"RepDemDiff",selected:!0},"% Republican votes - % Democrat votes")),t.push(r.a.createElement("option",{value:"Democrat"},"% votes for Democrat")),t.push(r.a.createElement("option",{value:"Republican"},"% votes for Republican")),t.push(r.a.createElement("option",{value:"Other"},"% votes for Other")),t.push(r.a.createElement("option",{value:"TotalGDP"},"Total GDP")),this.props.includeCategorical&&t.push(r.a.createElement("option",{value:"TopIndustry"},"Top Industry (non-aggregate)")),fetch(H.concat("/industries"),{method:"GET"}).then((function(e){return e.json()}),(function(e){console.log(e)})).then((function(a){if(a){var n,l=a.map((function(e,t){return e.NAME})),i=a.map((function(e,t){return e.INDUSTRY_ID}));for(n=0;n<l.length;n++)l[n].includes("2/")?l[n]=l[n].substring(0,l[n].indexOf("2/")):l[n].includes("3/")&&(l[n]=l[n].substring(0,l[n].indexOf("3/"))),t.push(r.a.createElement("option",{value:"Industry"+i[n]},"% GDP from ",l[n]));e.setState({vars:t})}}),(function(e){console.log(e)}))}},{key:"handleChange",value:function(e){this.setState({selectedVar:e.target.value}),this.props.handleVarChange(e.target.value)}},{key:"render",value:function(){return r.a.createElement("div",{className:"dropdown"},r.a.createElement("label",{for:"vars"},"Variable: "),r.a.createElement("select",{name:"vars",value:this.state.selectedVar,onChange:this.handleChange},this.state.vars))}}]),a}(r.a.Component),j=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={checked:!1},n.handleChange=n.handleChange.bind(Object(D.a)(n)),n}return Object(h.a)(a,[{key:"handleChange",value:function(e){var t=!this.state.checked;this.setState({checked:t}),this.props.handleFilterChange(t)}},{key:"render",value:function(){return r.a.createElement("div",{className:"checkbox"},r.a.createElement("label",{for:"filter"},"Filter"),r.a.createElement("input",{type:"checkbox",name:"filter",value:"Filter",checked:this.state.checked,onChange:this.handleChange}))}}]),a}(r.a.Component);a(121).config();var G=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleClick=function(){var e=["2000","2004","2008","2012","2016"];if("TotalGDP"===n.state.nextVar||n.state.nextVar.includes("Industry")){if("2000"===n.state.nextYear)return void n.setState({errorMsg:"GDP data is not available for the year 2000"})}else if(!e.includes(n.state.nextYear))return void n.setState({errorMsg:"Election data is not available for the year "+n.state.nextYear});if(n.state.nextFilter)if("TotalGDP"===n.state.nextFilterVar||n.state.nextFilterVar.includes("Industry")){if("2000"===n.state.nextFilterYear)return void n.setState({errorMsg:"GDP data is not available for the year 2000"})}else if(!e.includes(n.state.nextFilterYear))return void n.setState({errorMsg:"Election data is not available for the year "+n.state.nextFilterYear});var t=n.state.queryURL;"Democrat"===n.state.nextVar?t="/dem-votes":"Republican"===n.state.nextVar?t="/rep-votes":"Other"===n.state.nextVar?t="/other-votes":"RepDemDiff"===n.state.nextVar?t="/rep-dem-diff":"TotalGDP"===n.state.nextVar?t="/total-gdp":n.state.nextVar.startsWith("Industry")?t="/industry-gdp":"TopIndustry"===n.state.nextVar&&(t="/top-industry"),n.state.nextFilter?n.setState({year:n.state.nextYear,filter:n.state.nextFilter,filterYear:n.state.nextFilterYear,filterVar:n.state.nextFilterVar,op:n.state.nextOp,val:n.state.nextVal,queryURL:t,industry:n.state.nextIndustry,errorMsg:""}):n.setState({year:n.state.nextYear,filter:n.state.nextFilter,filterYear:n.state.nextFilterYear,filterVar:"none",op:n.state.nextOp,val:n.state.nextVal,queryURL:t,industry:n.state.nextIndustry,errorMsg:""})},document.title="Map",n.state={year:"2016",nextYear:"2016",queryURL:"/rep-dem-diff",nextVar:"",filter:!1,nextFilter:!1,filterYear:"2016",nextFilterYear:"2016",filterVar:"none",nextFilterVar:"RepDemDiff",filterLabel:"%",op:"gt",nextOp:"gt",val:0,nextVal:0,industry:1,nextIndustry:1,errorMsg:""},n.handleYearChange=n.handleYearChange.bind(Object(D.a)(n)),n.handleVarChange=n.handleVarChange.bind(Object(D.a)(n)),n.handleFilterYearChange=n.handleFilterYearChange.bind(Object(D.a)(n)),n.handleFilterVarChange=n.handleFilterVarChange.bind(Object(D.a)(n)),n.handleFilterChange=n.handleFilterChange.bind(Object(D.a)(n)),n.handleOpChange=n.handleOpChange.bind(Object(D.a)(n)),n.handleValChange=n.handleValChange.bind(Object(D.a)(n)),n}return Object(h.a)(a,[{key:"handleYearChange",value:function(e){this.setState({nextYear:e})}},{key:"handleVarChange",value:function(e){if(this.setState({nextVar:e}),e.startsWith("Industry")){var t=Number(e.substr(8));this.setState({nextIndustry:t})}}},{key:"handleFilterChange",value:function(e){this.setState({nextFilter:e})}},{key:"handleOpChange",value:function(e){this.setState({nextOp:e})}},{key:"handleValChange",value:function(e){this.setState({nextVal:e})}},{key:"handleFilterYearChange",value:function(e){this.setState({nextFilterYear:e})}},{key:"handleFilterVarChange",value:function(e){this.setState({nextFilterVar:e}),"TotalGDP"===e?this.setState({filterLabel:"million dollars"}):this.setState({filterLabel:"%"})}},{key:"render",value:function(){return r.a.createElement("div",{className:"map"},r.a.createElement(P,{year:this.state.year,filter:this.state.filterVar,filterYear:this.state.filterYear,operand:this.state.op,val:this.state.val,queryURL:this.state.queryURL,industry:this.state.industry}),r.a.createElement("p",{className:"error"},this.state.errorMsg),r.a.createElement("p",null,'Select a year and variable, then click "Submit" to update the map.'),r.a.createElement("section",{className:"selector"},r.a.createElement(w,{id:"year-dropdown",handleYearChange:this.handleYearChange}),r.a.createElement(V,{id:"variable-dropdown",handleVarChange:this.handleVarChange,includeCategorical:!0}),r.a.createElement("button",{id:"submit",onClick:this.handleClick},"Submit")),r.a.createElement("p",null,"Optional: select a filter variable and year. If selected, only those counties that meet the stated condition will be mapped."),r.a.createElement("section",{className:"filter"},r.a.createElement(j,{id:"filter",checked:this.state.filter,handleFilterChange:this.handleFilterChange}),r.a.createElement(w,{id:"filter-year-dropdown",handleYearChange:this.handleFilterYearChange}),r.a.createElement(V,{id:"filter-variable-dropdown",handleVarChange:this.handleFilterVarChange}),r.a.createElement(k,{id:"cmp-dropdown",handleOpChange:this.handleOpChange}),r.a.createElement(x,{id:"cmp-input",handleValChange:this.handleValChange,filterLabel:this.state.filterLabel})),r.a.createElement("p",null,"Note: Election data is only available for election years (2000, 2004, 2008, 2012, and 2016). GDP data is not available for the year 2000."))}}]),a}(r.a.Component);var Y=function(){return r.a.createElement("h1",null,"Graph")};var M=function(){return r.a.createElement("h1",null,"Trends")},F=Object({NODE_ENV:"production",PUBLIC_URL:"/election-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_HOST||"localhost",U=Object({NODE_ENV:"production",PUBLIC_URL:"/election-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_PORT||5e3,W="http://".concat(F,":").concat(U,"/api/v1"),H=W+"/map",z=W+"/county";var q=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,{basename:"/election-app"},r.a.createElement(c,null),r.a.createElement("div",{id:"main"},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/map",exact:!0,component:function(){return r.a.createElement(G,null)}}),r.a.createElement(s.b,{path:"/graph",exact:!0,component:function(){return r.a.createElement(Y,null)}}),r.a.createElement(s.b,{path:"/trends",exact:!0,component:function(){return r.a.createElement(M,null)}}),r.a.createElement(s.b,{path:"/county/:fips",component:function(e){return r.a.createElement(N,e)}}),r.a.createElement(s.b,{path:"/county/",component:function(e){return r.a.createElement(N,e)}}),r.a.createElement(s.b,{render:function(){return r.a.createElement(s.a,{to:"/map"})}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[189,1,2]]]);
//# sourceMappingURL=main.f6b19a97.chunk.js.map