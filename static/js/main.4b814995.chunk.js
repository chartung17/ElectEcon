(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{133:function(e,t,a){},207:function(e,t,a){e.exports=a(404)},21:function(e,t,a){"use strict";a.r(t),a.d(t,"YEAR",(function(){return n})),a.d(t,"PLACEHOLDER",(function(){return r})),a.d(t,"CANDIDATE_IMAGE",(function(){return s})),a.d(t,"INDUSTRY_ICON",(function(){return i})),a.d(t,"STATES",(function(){return o}));var n={firstGDP:2001,lastGDP:2018,election:[2e3,2004,2008,2012,2016]},r={countyName:"Name",countyState:"State",gdpData:Array(18).fill(0),fastestGrowingIndustry:Array.from({length:5}).fill({Description:"",Growth:"0"}),topIndustry:Array.from({length:5}).fill({Description:"",GDP:0}),electionResult:[[2016,"Hillary Clinton","Donald Trump"],[2012,"Barack Obama","Mitt Romney"],[2008,"Barack Obama","John  McCain"],[2004,"John Kerry","George W. Bush"],[2e3,"Al Gore","George W. Bush"]].map((function(e){return{Year:e[0],DemCandidate:e[1],RepCandidate:e[2],DemVote:0,RepVote:0,TotalVote:0}})),GDPGrowthPercentile:"N/A",stateGDPRank:"N/A",countyVotingForParty:"",numCountyInState:0},s={"Donald Trump":"donald_trump.jpg","Hillary Clinton":"hillary_clinton.jpg","Barack Obama":"barack_obama.jpg","Mitt Romney":"mitt_romney.jpg","John McCain":"john_mccain.jpg","John Kerry":"john_kerry.jpg","George W. Bush":"george_bush.jpg","Al Gore":"al_gore.jpg"},i={"Agriculture, forestry, fishing and hunting":"industry_02.png","Mining, quarrying, and oil and gas extraction":"industry_03.png",Utilities:"industry_04.png",Construction:"industry_05.png","Durable goods manufacturing":"industry_07.png","Nondurable goods manufacturing":"industry_08.png","Wholesale trade":"industry_09.png","Retail trade":"industry_10.png","Transportation and warehousing":"industry_11.png",Information:"industry_12.png","Finance and insurance":"industry_14.png","Real estate and rental and leasing":"industry_15.png","Professional, scientific, and technical services":"industry_17.png","Management of companies and enterprises":"industry_18.png","Administrative and support and waste management and remediation services":"industry_19.png","Educational services":"industry_21.png","Health care and social assistance":"industry_22.png","Arts, entertainment, and recreation":"industry_24.png","Accommodation and food services":"industry_25.png","Other services (except government and government enterprises)":"industry_26.png","Government and government enterprises":"industry_27.png"},o=["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"]},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},226:function(e,t,a){},400:function(e,t,a){},401:function(e,t,a){},404:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(202),i=a.n(s),o=(a(212),a(204)),l=a(16);a(213);var c=function(){var e={padding:20,fontSize:24,color:"white"};return r.a.createElement("nav",{className:"Navbar",style:{top:0,width:"100%",background:"#cc0000",padding:15,textAlign:"center"},id:"navbar"},r.a.createElement("a",{href:"/electecon/map",style:e},"Map"),r.a.createElement("a",{href:"/electecon/graph",style:e},"Graph"),r.a.createElement("a",{href:"/electecon/trends",style:e},"Trends"),r.a.createElement("a",{href:"/electecon/county",style:e},"County Details"))},u=a(42),d=a(32),h=a(3),y=a(4),m=a(6),p=a(5),f=(a(131),a(214),a(40)),g=(a(217),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"barchart-container"},r.a.createElement("div",{className:"barchart-title"},this.props.title),r.a.createElement("table",{className:"barchart-table"},r.a.createElement("colgroup",null,r.a.createElement("col",{className:"barchart-table-col-1"}),r.a.createElement("col",{className:"barchart-table-col-2"}),r.a.createElement("col",{className:"barchart-table-col-3"})),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2}),r.a.createElement("td",{className:"barchart-table-unit-header"},r.a.createElement("b",null,this.props.unit)))),r.a.createElement("tbody",null,this.props.data.map((function(t,a){if(""===t.desc)return null;var n=e.props.scale*Math.max(0,Math.round(t.value/e.props.maxValue*100))+"%";return r.a.createElement("tr",{key:a},r.a.createElement("td",null,r.a.createElement("div",null,r.a.createElement("img",{className:"barchart-table-image",src:t.icon,alt:t.Description}),r.a.createElement("p",{id:"".concat(e.props.idPrefix,"-desc-").concat(a),className:"barchart-table-image-caption"},t.desc))),r.a.createElement("td",{className:"barchart-table-bar-container"},r.a.createElement("div",{className:"barchart-table-bar",style:{background:e.props.barColor,width:n}},"\xa0")),r.a.createElement("td",{id:"".concat(e.props.idPrefix,"-value-").concat(a)},t.value.toFixed(1)))})))))}}]),a}(r.a.Component)),v=(a(218),a(219),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement("tr",null,this.props.data.map((function(t,a){return r.a.createElement(n.Fragment,{key:a},r.a.createElement("td",{className:"data-tile-title"},t.title),a===e.props.data.length-1?null:r.a.createElement("td",{className:"data-tile-separator"}))}))),r.a.createElement("tr",null,this.props.data.map((function(t,a){return r.a.createElement(n.Fragment,{key:a},r.a.createElement("td",{id:t.id,className:"data-tile"},"value"===t.type?t.value:r.a.createElement(n.Fragment,null,r.a.createElement("img",{className:"data-tile-image",src:t.src,alt:t.caption}),r.a.createElement("div",{className:"data-tile-image-caption"},t.caption))),a===e.props.data.length-1?null:r.a.createElement("td",null))}))))}}]),a}(r.a.Component)),E=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"data-tile-container"},r.a.createElement("div",{className:"title data-tile-container-title"},this.props.title),r.a.createElement("table",null,r.a.createElement("tbody",null,this.props.data.map((function(t,a){return r.a.createElement(n.Fragment,{key:a},r.a.createElement(v,{data:t}),a===e.props.data.length-1?null:r.a.createElement("tr",null,r.a.createElement("td",null,"\xa0")))})))))}}]),a}(r.a.Component),b=a(21),C=a(21);function D(e){return void 0===e||null===e||0===e.length}function O(e){if(5!==e.length)return 50;var t=0,a=[.5,.2,.2,.05,.05],n=0;return e.forEach((function(e,r){var s=parseInt(e.TotalVote),i=100*parseInt(e.RepVote)/s,o=100*parseInt(e.DemVote)/s;n+=i>o?1:0,t+=i*a[r]})),n>=4&&(t=Math.min(100,t+10)),n<=2&&(t=Math.max(0,t-10)),t}function k(e){return"".concat((100*(Math.pow(e[e.length-1]/e[0],1/e.length)-1)).toFixed(2),"%")}function j(e){for(var t=[[{type:"string",label:"Year"},{type:"number",label:"Growth"}]],a=1;a<e.length;a++)t.push([C.YEAR.firstGDP+a+"",100*(e[a]/e[a-1]-1)]);return t}a(220);var S=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props.gdpData;if(!function(e){if(void 0===e||e===C.PLACEHOLDER.gdpData||e.includes(null)||18!==e.length)return!1;var t,a=Object(d.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(isNaN(n)||n<=0)return!1}}catch(r){a.e(r)}finally{a.f()}return!0}(e))return r.a.createElement("div",{className:"col-sm economy-panel"},r.a.createElement("div",{className:"economy-panel-title"},"Economy"),r.a.createElement("p",{id:"data-unavailable-warning"},"Sorry, economic data for this county is incomplete or currently unavailable."));var t="".concat(z,"/icons/industry"),a=function(e,t){return[[{id:"total-gdp-number",type:"value",title:"GDP\n\n(".concat(C.YEAR.lastGDP,")"),value:(a=e.gdpData,"$".concat((a[a.length-1]/1e6).toFixed(1)," bn"))},{id:"gdp-cagr-number",type:"value",title:"Avg. Annual Growth\n(".concat(C.YEAR.firstGDP,"-").concat(C.YEAR.lastGDP,")"),value:k(e.gdpData)},{id:"top-industry-icon",type:"icon",title:"Top Industry",caption:e.topIndustry[0].Description,src:"".concat(t,"/").concat(b.INDUSTRY_ICON[e.topIndustry[0].Description])}],[{id:"state-gdp-rank",type:"value",title:"State GDP Rank",value:e.stateGDPRank},{id:"gdp-growth-percentile",type:"value",title:"Avg. Annual Growth National Percentile",value:e.GDPGrowthPercentile},{id:"growing-industry-icon",type:"icon",title:"Fastest Growing Industry",caption:e.fastestGrowingIndustry[0].Description,src:"".concat(t,"/").concat(b.INDUSTRY_ICON[e.fastestGrowingIndustry[0].Description])}]];var a}(Object(u.a)({},this.props),t);return r.a.createElement("div",{className:"col-sm economy-panel"},r.a.createElement("div",{className:"economy-panel-title"},"Economy"),r.a.createElement(E,{title:"Overview",data:a}),r.a.createElement("div",{id:"gdp-growth-chart"},r.a.createElement("div",{className:"econ-subpanel-title"},"GDP Growth"),r.a.createElement(f.a,{chartType:"LineChart",data:j(e),options:{legend:"none",vAxis:{title:"% YoY"}}})),r.a.createElement(g,{title:"Top 5 Industries",idPrefix:"top-gdp",unit:"%GDP",barColor:"blue",maxValue:this.props.topIndustry[0].GDP/e[e.length-1]*100,scale:.9,data:this.props.topIndustry.map((function(a,n){return{value:a.GDP/e[e.length-1]*100,desc:a.Description,icon:"".concat(t,"/").concat(b.INDUSTRY_ICON[a.Description])}}))}),r.a.createElement(g,{title:"Fastest Growing Industries",idPrefix:"growing-industry",unit:"%",barColor:"red",maxValue:parseFloat(this.props.fastestGrowingIndustry[0].Growth),scale:.9,data:this.props.fastestGrowingIndustry.map((function(e,a){return{value:parseFloat(e.Growth),desc:e.Description,icon:"".concat(t,"/").concat(b.INDUSTRY_ICON[e.Description])}}))}))}}]),a}(r.a.Component),I=(a(221),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=function(e){var t=0,a=0,n=0,r=0,s=0,i=0,o=0;return e.forEach((function(e){var l=parseInt(e.TotalVote),c=100*parseInt(e.DemVote)/l,u=100*parseInt(e.RepVote)/l;u>c?(t+=1,r+=u-c):(a+=1,n+=c-u),e.Year===C.YEAR.election[C.YEAR.election.length-1]&&(o=l),e.Year===C.YEAR.election[C.YEAR.election.length-2]&&(i=l),e.Year===C.YEAR.election[0]&&(s=l)})),{WinnerParty:t>=3?"Republican":"Democratic",WinnerCount:t>=3?t:5-t,WinnerLead:t>=3?r/t:n/a,LastNumVotes:o,VotePctChangeFirstElection:100*(o/s-1),VotePctChangePenultimateElection:100*(i/s-1)}}(this.props.electionResult);return r.a.createElement("table",{className:"election-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"5",style:{textAlign:"justify"}},r.a.createElement("ul",null,r.a.createElement("li",{id:"elec-points-0"},e.WinnerParty," candidates won ",e.WinnerCount," out of the last 5 general elections in ",this.props.countyName," County, ",this.props.countyState,"."),r.a.createElement("li",{id:"elec-points-1"},"The ",e.WinnerParty," winners, on average, lead by ",e.WinnerLead.toFixed(1)," percentage point."),r.a.createElement("li",{id:"elec-points-2"},e.LastNumVotes," in ",this.props.countyName," County voted 2016 election, a ",e.VotePctChangePenultimateElection.toFixed(1),"% ",e.VotePctChangePenultimateElection>0?"increase":"decrease"," to that of ",b.YEAR.election[b.YEAR.election.length-2],", a ",e.VotePctChangeFirstElection.toFixed(1),"% ",e.VotePctChangeFirstElection>0?"increase":"decrease"," to that of ",b.YEAR.election[0],"."),this.props.countyVotingForParty.length-1===0?r.a.createElement("li",{id:"elec-points-3"},this.props.countyName," County is the only county (out of ",this.props.numCountyInState,") in ",this.props.countyState," where the ",e.WinnerParty," candidate won."):r.a.createElement("li",{id:"elec-points-3"},this.props.countyName," County joins ",this.props.countyVotingForParty.length-1," other counties in ",this.props.countyState," that pre-dominantly voted for ",e.WinnerParty," candidate in 2016, out of the ",this.props.numCountyInState," counties in ",this.props.countyState,"."))))))}}]),a}(r.a.Component)),N=(a(222),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e="".concat(z,"/images/candidate"),t="".concat(z,"/icons/other/checkmark.svg");return r.a.createElement("table",{className:"election-table"},r.a.createElement("tbody",null,this.props.electionResult.map((function(a,s){var i=parseInt(a.TotalVote),o=100*parseInt(a.DemVote)/i,l=100*parseInt(a.RepVote)/i,c=isNaN(o)?0:Math.round(o),u=isNaN(l)?0:Math.round(l),d=o<l;return r.a.createElement(n.Fragment,{key:s},r.a.createElement("tr",{className:"election-table-year-container"},r.a.createElement("td",null),r.a.createElement("td",{className:"election-table-year",colSpan:2},r.a.createElement("h3",null,a.Year)),r.a.createElement("td",null)),r.a.createElement("tr",{className:"election-table-result-container",key:s},r.a.createElement("td",{className:"headshot-container"},r.a.createElement("img",{src:"".concat(e,"/").concat(b.CANDIDATE_IMAGE[a.DemCandidate]),alt:a.DemCandidate,className:"headshot"}),a.DemCandidate),r.a.createElement("td",{className:"democrat-results-container"},d?null:r.a.createElement("img",{src:t,alt:"checkmark",className:"democrat-vote-checkmark",style:{marginLeft:"".concat(Math.min(77,100-c+5),"%")}}),r.a.createElement("div",{className:"democrat-vote-bar",style:{marginLeft:"".concat(100-Math.round(c),"%")}},"\xa0"),r.a.createElement("div",{id:"elec-dem-pct-".concat(s)},(0===i?0:o.toFixed(1))+"%"),r.a.createElement("div",{id:"elec-dem-vote-".concat(s)},"(",a.DemVote,")")),r.a.createElement("td",{className:"republican-results-container"},d?r.a.createElement("img",{src:t,alt:"checkmark",className:"republican-vote-checkmark",style:{marginRight:"".concat(Math.min(77,100-u),"%")}}):null,r.a.createElement("div",{className:"republican-vote-bar",style:{width:u+"%"}},"\xa0"),r.a.createElement("div",{id:"elec-rep-pct-".concat(s)},"\xa0 ",(0===i?0:l.toFixed(1))+"%"),r.a.createElement("div",{id:"elec-rep-vote-".concat(s)},"\xa0 (",a.RepVote,")")),r.a.createElement("td",{className:"headshot-container"},r.a.createElement("img",{src:"".concat(e,"/").concat(b.CANDIDATE_IMAGE[a.RepCandidate]),alt:a.RepCandidate,className:"headshot"}),a.RepCandidate)))}))))}}]),a}(r.a.Component)),P=(a(223),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("table",{className:"spectrum-table"},r.a.createElement("tbody",null,r.a.createElement("tr",{className:"spectrum-container"},Object.keys(this.props.label).map((function(t){return r.a.createElement("td",{style:e.props.label[t].style,key:t},r.a.createElement("b",null,e.props.label[t].label))}))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:Object.keys(this.props.label).length,style:{backgroundImage:"linear-gradient(to right, ".concat(this.props.color,")")}},"\xa0")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:Object.keys(this.props.label).length},r.a.createElement("div",{className:"arrow-up",style:{marginLeft:"".concat(this.props.value-3.5,"%")}},"\xa0")))))}}]),a}(r.a.Component)),w=(a(224),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return function(e){if(void 0===e||e===C.PLACEHOLDER.electionResult||e.includes(null)||5!==e.length)return!1;var t,a=Object(d.a)(e);try{for(a.s();!(t=a.n()).done;){if(t.value.TotalVote<=0)return!1}}catch(n){a.e(n)}finally{a.f()}return!0}(this.props.electionResult)?r.a.createElement("div",{className:"col-sm election-panel"},r.a.createElement("div",{className:"election-panel-title"},"Elections"),r.a.createElement(P,{label:{0:{label:"Democrats",style:{textAlign:"left"}},1:{label:"Lean Dem",style:{textAlign:"left"}},2:{label:"Swing",style:{textAlign:"center"}},3:{label:"Lean Rep",style:{textAlign:"right"}},4:{label:"Republican",style:{textAlign:"right"}}},value:O(this.props.electionResult),color:"blue, lightblue, lightpink, red"}),r.a.createElement(I,this.props),r.a.createElement(N,this.props)):r.a.createElement("div",{className:"col-sm election-panel"},r.a.createElement("div",{className:"election-panel-title"},"Elections"),r.a.createElement("p",{id:"data-unavailable-warning"},"Sorry, election data for this county is incomplete or currently unavailable."))}}]),a}(r.a.Component)),G=(a(225),a(206)),x=a(21);function V(e){var t={countyName:x.PLACEHOLDER.countyName,countyState:x.PLACEHOLDER.countyState};return fetch(Ue.concat("/counties?fips=".concat(e))).then((function(e){if(!e.ok)throw new Error("Failed to fetch county name, state data.");return e.json()})).then((function(e){return D(e)||(t.countyName=e[0].NAME,t.countyState=e[0].STATE),t})).catch((function(e){console.error("ERROR: ",e)}))}function R(e){var t={GDPGrowthPercentile:x.PLACEHOLDER.GDPGrowthPercentile};return fetch(Ue.concat("/gdp-growth-percentile?fips=".concat(e))).then((function(e){if(!e.ok)throw new Error("Failed to fetch GDP growth percentile data.");return e.json()})).then((function(e){return D(e)||(t.GDPGrowthPercentile=(100*e[0].PERCENTILE).toFixed(1)+"%"),t})).catch((function(e){console.error("Error: ",e)}))}function A(e){var t={stateGDPRank:x.PLACEHOLDER.stateGDPRank,numCountyInState:x.PLACEHOLDER.numCountyInState};return fetch(Ue.concat("/state-gdp-rank?fips=".concat(e))).then((function(e){if(!e.ok)throw new Error("Failed to fetch state GDP rank data.");return e.json()})).then((function(e){return D(e)||(t.stateGDPRank="".concat(e[0].COUNTY_GDP_RANK," / ").concat(e[0].STATE_COUNTY_COUNT),t.numCountyInState=e[0].STATE_COUNTY_COUNT),t})).catch((function(e){console.error("Error: ",e)}))}function Y(e){var t={countyVotingForParty:x.PLACEHOLDER.countyVotingForParty};return fetch(Ue.concat("/county-voting-for-party?fips=".concat(e))).then((function(e){if(!e.ok)throw new Error("Failed to fetch county voting for party data.");return e.json()})).then((function(e){return D(e)||(t.countyVotingForParty=e),t})).catch((function(e){console.error("Error: ",e)}))}function F(e){var t={electionResult:x.PLACEHOLDER.electionResult};return fetch(Ue.concat("/elections?fips=".concat(e))).then((function(e){if(!e.ok)throw new Error("Failed to fetch county voting for party data.");return e.json()})).then((function(e){if(!D(e)){for(var a=[],n=0,r=Object(G.a)(Array(e.length/2).keys());n<r.length;n++){var s=r[n],i=e[2*s],o=e[2*s+1];a.push({Year:i.YEAR,DemCandidate:i.CANDIDATE_NAME,RepCandidate:o.CANDIDATE_NAME,DemVote:i.CANDIDATE_VOTES,RepVote:o.CANDIDATE_VOTES,TotalVote:i.TOTAL_VOTES})}t.electionResult=a}return t})).catch((function(e){console.error("Error: ",e)}))}function T(e){var t={gdpData:x.PLACEHOLDER.gdpData};return fetch(Ue.concat("/annual-gdp?fips=".concat(e))).then((function(e){if(!e.ok)throw new Error("Failed to fetch GDP data.");return e.json()})).then((function(e){return D(e)||(t.gdpData=e.map((function(e){return e.GDP}))),t})).catch((function(e){console.error("Error: ",e)}))}function M(e){var t={topIndustry:x.PLACEHOLDER.topIndustry};return fetch(Ue.concat("/top-industry?fips=".concat(e))).then((function(e){if(!e.ok)throw new Error("Failed to fetch top industry data.");return e.json()})).then((function(e){return D(e)||(t.topIndustry=e.map((function(e){return{Description:e.Description,GDP:e.GDP}}))),t})).catch((function(e){console.error("Error: ",e)}))}function L(e){var t={fastestGrowingIndustry:x.PLACEHOLDER.fastestGrowingIndustry};return fetch(Ue.concat("/growing-industry?fips=".concat(e))).then((function(e){if(!e.ok)throw new Error("Failed to fetch fastest growing industry data.");return e.json()})).then((function(e){return D(e)||(t.fastestGrowingIndustry=e.map((function(e){return{Description:e.Description,Growth:e.Growth}}))),t})).catch((function(e){console.error("Error: ",e)}))}a(226);var U=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"loading-message",id:this.props.id,style:this.props.style},this.props.text," ",r.a.createElement("span",null,"."),r.a.createElement("span",null,"."),r.a.createElement("span",null,"."))}}]),a}(r.a.Component),_=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).getCounties=function(e){n.setState({isFetching:!0}),function(e){var t={counties:[]};return fetch(Ue.concat("/counties?state=".concat(e))).then((function(e){if(!e.ok)throw new Error("Failed to fetch counties in state data.");return e.json()})).then((function(e){return D(e)||(t.counties=e),t})).catch((function(e){console.error("Error: ",e)}))}(e).then((function(e){D(e)&&n.setState({counties:[],isFetching:!1});var t=e.counties.map((function(e,t){return r.a.createElement("div",{id:"btn-county-".concat(e.NAME),className:"btn btn-county",key:t,onClick:function(){return n.props.getNewCounty(e.FIPS)}},e.NAME)}));n.setState({counties:t,isFetching:!1})}))},n.state={counties:[],isFetching:!1},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"county-finder container"},r.a.createElement("div",{id:"county-finder",className:"row"},r.a.createElement("h2",null,r.a.createElement("b",null,"Find a county:"))),r.a.createElement("div",{className:"row"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",{id:"county-finder-state-container"},r.a.createElement("td",null,r.a.createElement("b",null,"State")),r.a.createElement("td",null,b.STATES.map((function(t,a){return r.a.createElement("div",{className:"btn btn-state",key:a,onClick:function(){return e.getCounties(t)},id:"btn-state-".concat(t)},t)})))),0===this.state.counties.length&&this.state.isFetching?r.a.createElement("tr",{id:"county-finder-state-container"},r.a.createElement("td",null,r.a.createElement("b",null,"County")),r.a.createElement("td",null,r.a.createElement(U,{style:{textAlign:"center"},text:"Fetching counties"}))):null,0===this.state.counties.length?null:r.a.createElement("tr",{id:"county-finder-state-container"},r.a.createElement("td",null,r.a.createElement("b",null,"County")),r.a.createElement("td",null,this.state.counties))))))}}]),a}(r.a.Component),W=a(21);a(132).config();var z="/electecon/assets",H=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).getNewCounty=function(e){n.setState({isFetching:!0}),function(e){var t=[V,R,A,Y,F,T,M,L];return Promise.all(t.map((function(t){return t(e)}))).then((function(e){return e}))}(e).then((function(t){var a,r=[],s=Object(d.a)(t);try{for(s.s();!(a=s.n()).done;){var i=a.value;r=Object(u.a)(Object(u.a)({},r),i)}}catch(o){s.e(o)}finally{s.f()}n.setState(Object(u.a)(Object(u.a)({},r),{},{isFetching:!1})),r.countyName===W.PLACEHOLDER.countyName?(n.setState({validCounty:!1}),document.title="County Details"):(n.setState({validCounty:!0}),window.history.pushState({},null,"/electecon"+"/county/".concat(e)),document.getElementById("county-profile").scrollIntoView(),document.title="".concat(n.state.countyName,", ").concat(n.state.countyState," - County Details"))}))},n.state=Object(u.a)(Object(u.a)({},W.PLACEHOLDER),{},{isFetching:!1,validCounty:!0}),document.title="County Details",n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){void 0!==this.props.match&&void 0!==this.props.match.params.fips&&this.getNewCounty(this.props.match.params.fips)}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(_,{getNewCounty:this.getNewCounty}),r.a.createElement("div",{id:"county-profile"}),this.state.isFetching||this.state.countyName===W.PLACEHOLDER.countyName?null:r.a.createElement("div",{id:"county-details",className:"container"},r.a.createElement("div",{id:"county-name-container"},r.a.createElement("h1",{id:"county-name"},""===this.state.countyName?"County Name, State":"".concat(this.state.countyName,", ").concat(this.state.countyState))),r.a.createElement("div",{className:"panel-container container"},r.a.createElement("div",{className:"row"},r.a.createElement(S,this.state),r.a.createElement(w,this.state)))),this.state.isFetching?r.a.createElement(U,{id:"fetching-message",style:{paddingBottom:"40vh",fontSize:"18pt"},text:"Fetching result"}):null,this.state.isFetching||this.state.validCounty?null:r.a.createElement("h4",null,"County not found."))}}]),a}(r.a.Component),X=a(7),q=(a(133),a(60)),B=a.n(q),Q=a(41),Z=a.n(Q);Z.a.register([a(369)]);var J,K=B()(Z.a),$=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).topIndustryColorscale=[["0.0","forestgreen"],["0.05","dimgray"],["0.1","aquamarine"],["0.15","goldenrod"],["0.2","blue"],["0.25","mediumslateblue"],["0.3","yellow"],["0.35","darkcyan"],["0.4","deepskyblue"],["0.45","darkviolet"],["0.5","deeppink"],["0.55","lawngreen"],["0.6","lightcoral"],["0.65","maroon"],["0.7","midnightblue"],["0.75","wheat"],["0.8","orangered"],["0.85","orchid"],["0.9","silver"],["0.95","darkorange"],["1.0","red"]],n.state={fips:[],countyNames:[],z:[],industries:[],nonAggregateIndustries:[],nonAggregateIndIDs:[],topIndustryColorbar:[],customdata:[],colorscale:"",title:"",zmin:0,zmax:0,zauto:!0,width:0,height:0,year:e.year,queryURL:e.queryURL,filter:e.filter,filterYear:e.filterYear,operand:e.operand,val:e.val,industry:e.industry,hovertemplate:"",showscale:!0,level:e.level,locationmode:"",locations:[],names:[],props:e},n.updateDimensions=n.updateDimensions.bind(Object(X.a)(n)),n}return Object(y.a)(a,[{key:"gdpColorscale",value:function(e){for(var t=[],a=e.length,n=0;n<a;n++)"number"===typeof e[n]&&t.push(e[n]);t.sort((function(e,t){return e-t})),a=t.length;var r=t[0],s=t[a-1]-r,i=t[Math.floor(.2*a)-1];i=((i-r)/s).toString();var o=t[Math.floor(.4*a)-1];o=((o-r)/s).toString();var l=t[Math.floor(.6*a)-1];l=((l-r)/s).toString();var c=t[Math.floor(.8*a)-1];return[["0.0","#0000ff"],[i,"#00ffff"],[o,"#00ff00"],[l,"#ffff00"],[c=((c-r)/s).toString(),"#ff0000"],["1.0","#ff00ff"]]}},{key:"colorscale",value:function(e,t){return e.startsWith("/rep-dem-diff")?"RdBu":e.startsWith("/rep-votes")?[["0.0","white"],["1.0","red"]]:e.startsWith("/dem-votes")?[["0.0","white"],["1.0","blue"]]:e.startsWith("/other-votes")?[["0.0","white"],["1.0","green"]]:e.includes("gdp")?t:e.startsWith("/top-industry")?this.topIndustryColorscale:void 0}},{key:"title",value:function(e){return e.startsWith("/rep-dem-diff")?"% Republican votes - % Democrat votes in "+this.state.year:e.startsWith("/rep-votes")?"% Republican votes in "+this.state.year:e.startsWith("/dem-votes")?"% Democrat votes in "+this.state.year:e.startsWith("/other-votes")?"% Other votes in "+this.state.year:e.startsWith("/total-gdp")?"Total GDP (millions of dollars) in "+this.state.year:e.startsWith("/industry-gdp")?"% GDP from "+this.getIndustryName(this.state.industry)+" in "+this.state.year:e.startsWith("/top-industry")?"Top Industry (non-aggregate) in "+this.state.year:void 0}},{key:"zMinMaxAuto",value:function(e){return e.startsWith("/rep-dem-diff")?[-100,100,!1]:e.startsWith("/rep-votes")||e.startsWith("/dem-votes")?[0,100,!1]:e.startsWith("/top-industry")?[0,20,!1]:[0,100,!0]}},{key:"hovertemplate",value:function(e){return e.startsWith("/top-industry")||e.startsWith("/total-gdp")?"<b>%{text}</b><br>%{customdata}<extra></extra>":"<b>%{text}</b><br>%{z}<extra></extra>"}},{key:"locationmode",value:function(e,t){return e.includes("level=county")?["geojson-id",this.state.fips,this.state.countyNames]:["USA-states",t,t]}},{key:"queryZ",value:function(){var e=this,t=this.state.queryURL+"?year="+this.state.year+"&filter="+this.state.filter+"&filteryear="+this.state.filterYear+"&operand="+this.state.operand+"&val="+this.state.val+"&industry="+this.state.industry+"&level="+this.state.level,a=this.state,n=[];fetch(Te.concat(t),{method:"GET"}).then((function(e){return e.json()}),(function(e){console.log(e)})).then((function(r){if(r){var s=r.map((function(e,t){return e.Z})),i=r.map((function(e,t){return e.FIPS}));if(s.length||(s=[null],i=[null]),t.startsWith("/top-industry"))for(var o=0;o<s.length;o++)n.push(e.state.nonAggregateIndustries[e.state.nonAggregateIndIDs.indexOf(s[o])]),null!==s[o]&&(s[o]=e.state.nonAggregateIndIDs.indexOf(s[o]));else if(t.startsWith("/total-gdp"))for(var l=0;l<s.length;l++)null===s[l]?n.push(null):n.push(s[l].toString());var c=e.gdpColorscale(s),u=e.zMinMaxAuto(t),d=e.locationmode(t,i);a!==e.state&&e.state.z.length>0||e.setState({colorscale:e.colorscale(t,c),title:e.title(t),zmin:u[0],zmax:u[1],zauto:u[2],hovertemplate:e.hovertemplate(t),showscale:!t.startsWith("/top-industry"),z:s,customdata:n,locationmode:d[0],locations:d[1],names:d[2]})}}),(function(e){console.log(e)}))}},{key:"getIndustryName",value:function(e){return this.state.industries[e-1]}},{key:"componentDidMount",value:function(){var e=this;fetch(Te.concat("/counties"),{method:"GET"}).then((function(e){return e.json()}),(function(e){console.log(e)})).then((function(t){if(t){var a=t.map((function(e,t){return e.FIPS})),n=t.map((function(e,t){return e.NAME}));e.setState({fips:a,countyNames:n})}}),(function(e){console.log(e)})),fetch(Te.concat("/industries"),{method:"GET"}).then((function(e){return e.json()}),(function(e){console.log(e)})).then((function(t){if(t){var a,n=t.map((function(e,t){return e.NAME}));for(a=0;a<n.length;a++)n[a].includes("2/")?n[a]=n[a].substring(0,n[a].indexOf("2/")):n[a].includes("3/")&&(n[a]=n[a].substring(0,n[a].indexOf("3/")));e.setState({industries:n})}}),(function(e){console.log(e)})),fetch(Te.concat("/non-aggregate-industries"),{method:"GET"}).then((function(e){return e.json()}),(function(e){console.log(e)})).then((function(t){if(t){var a,n=t.map((function(e,t){return e.NAME})),s=t.map((function(e,t){return e.INDUSTRY_ID})),i=[];for(a=0;a<n.length;a++)n[a].includes("2/")?n[a]=n[a].substring(0,n[a].indexOf("2/")):n[a].includes("3/")&&(n[a]=n[a].substring(0,n[a].indexOf("3/"))),i.push(r.a.createElement("div",{className:"colorbarBox"},r.a.createElement("div",{className:"colorBox",style:{backgroundColor:e.topIndustryColorscale[a][1]}}),r.a.createElement("p",{className:"colorbarLabel"},n[a])));e.setState({nonAggregateIndustries:n,nonAggregateIndIDs:s,topIndustryColorbar:i})}}),(function(e){console.log(e)})),this.updateDimensions(),window.addEventListener("resize",this.updateDimensions),this.queryZ()}},{key:"updateDimensions",value:function(){var e=Math.min(.9*window.innerWidth,1400),t=e/2;this.setState({width:e,height:t})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.queryZ()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"choroplethWrap"},this.state.locationmode?r.a.createElement(K,{id:"choropleth",data:[{type:"choropleth",geojson:"https://raw.githubusercontent.com/plotly/datasets/master/geojson-counties-fips.json",locationmode:this.state.locationmode,locations:this.state.locations,z:this.state.z,text:this.state.names,colorscale:this.state.colorscale,zmin:this.state.zmin,zmax:this.state.zmax,zauto:this.state.zauto,hovertemplate:this.state.hovertemplate,customdata:this.state.customdata,showscale:this.state.showscale}],onClick:function(t){"county"===e.state.level&&(window.location.href="/electecon/county/"+t.points[0].location+"#county-profile")},layout:{geo:{scope:"usa"},width:this.state.width,height:this.state.height,autosize:!0,margin:{t:0,b:0,l:0,r:0},title:{text:this.state.title,y:.95},dragmode:!1},config:{responsive:!0}}):r.a.createElement("div",{style:{width:this.state.width,height:this.state.height,display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("h1",null,"Loading...")),this.state.showscale?null:r.a.createElement("div",{id:"colorbar"},this.state.topIndustryColorbar))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e===t.props?null:{year:e.year,queryURL:e.queryURL,filter:e.filter,filterYear:e.filterYear,operand:e.operand,val:e.val,industry:e.industry,level:e.level}}}]),a}(r.a.Component),ee=[];for(J=2e3;J<=2018;J++){var te=J.toString();ee.push(r.a.createElement("option",{value:te,key:te},te))}var ae=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={years:[],selectedYear:"2016"},n.handleChange=n.handleChange.bind(Object(X.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.setState({years:ee})}},{key:"handleChange",value:function(e){this.setState({selectedYear:e.target.value}),this.props.handleYearChange(e.target.value)}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.forceUpdate()}},{key:"render",value:function(){return r.a.createElement("div",{className:"dropdown"},r.a.createElement("label",{htmlFor:"years"},"Year: "),r.a.createElement("select",{name:"years",value:this.state.selectedYear,onChange:this.handleChange},this.state.years))}}]),a}(r.a.Component),ne=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={operators:[],selectedOp:"gt"},n.handleChange=n.handleChange.bind(Object(X.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=[];e.push(r.a.createElement("option",{value:"gt",key:"gt"},">")),e.push(r.a.createElement("option",{value:"lt",key:"lt"},"<")),this.setState({operators:e})}},{key:"handleChange",value:function(e){this.setState({selectedOp:e.target.value}),this.props.handleOpChange(e.target.value)}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.forceUpdate()}},{key:"render",value:function(){return r.a.createElement("div",{className:"dropdown"},r.a.createElement("label",{htmlFor:"operators"},"Comparison: "),r.a.createElement("select",{name:"operators",value:this.state.selectedOp,onChange:this.handleChange},this.state.operators))}}]),a}(r.a.Component),re=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={val:0,filterLabel:"%"},n.handleChange=n.handleChange.bind(Object(X.a)(n)),n}return Object(y.a)(a,[{key:"handleChange",value:function(e){this.setState({val:e.target.value}),this.props.handleValChange(e.target.value)}},{key:"componentDidUpdate",value:function(e){this.props!==e&&(this.setState({filterLabel:this.props.filterLabel}),this.forceUpdate())}},{key:"render",value:function(){return r.a.createElement("div",{className:"cmp-dropdown"},r.a.createElement("input",{type:"number",min:"-9999999",max:"-9999999",name:"cmp-input",value:this.state.val,onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"cmp-input"},this.state.filterLabel))}}]),a}(r.a.Component),se=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={vars:[],selectedVar:"RepDemDiff"},n.handleChange=n.handleChange.bind(Object(X.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[];t.push(r.a.createElement("option",{value:"RepDemDiff",key:"RepDemDiff"},"% Republican votes - % Democrat votes")),t.push(r.a.createElement("option",{value:"Democrat",key:"Democrat"},"% votes for Democrat")),t.push(r.a.createElement("option",{value:"Republican",key:"Republican"},"% votes for Republican")),t.push(r.a.createElement("option",{value:"Other",key:"Other"},"% votes for Other")),t.push(r.a.createElement("option",{value:"TotalGDP",key:"TotalGDP"},"Total GDP")),this.props.includeCategorical&&t.push(r.a.createElement("option",{value:"TopIndustry",key:"TopIndustry"},"Top Industry (non-aggregate)")),fetch(Te.concat("/industries"),{method:"GET"}).then((function(e){return e.json()}),(function(e){console.log(e)})).then((function(a){if(a){var n,s=a.map((function(e,t){return e.NAME})),i=a.map((function(e,t){return e.INDUSTRY_ID}));for(n=0;n<s.length;n++)s[n].includes("2/")?s[n]=s[n].substring(0,s[n].indexOf("2/")):s[n].includes("3/")&&(s[n]=s[n].substring(0,s[n].indexOf("3/"))),t.push(r.a.createElement("option",{value:"Industry"+i[n],key:"Industry"+i[n]},"% GDP from ",s[n]));e.setState({vars:t})}}),(function(e){console.log(e)}))}},{key:"handleChange",value:function(e){this.setState({selectedVar:e.target.value}),this.props.handleVarChange(e.target.value)}},{key:"render",value:function(){return r.a.createElement("div",{className:"dropdown"},r.a.createElement("label",{htmlFor:"vars"},"Variable: "),r.a.createElement("select",{name:"vars",value:this.state.selectedVar,onChange:this.handleChange},this.state.vars))}}]),a}(r.a.Component),ie=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={checked:!1},n.handleChange=n.handleChange.bind(Object(X.a)(n)),n}return Object(y.a)(a,[{key:"handleChange",value:function(e){var t=!this.state.checked;this.setState({checked:t}),this.props.handleFilterChange(t)}},{key:"render",value:function(){return r.a.createElement("div",{className:"checkbox"},r.a.createElement("label",{htmlFor:"filter"},"Filter"),r.a.createElement("input",{type:"checkbox",name:"filter",value:"Filter",checked:this.state.checked,onChange:this.handleChange}))}}]),a}(r.a.Component),oe=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={checked:!1},n.handleChange=n.handleChange.bind(Object(X.a)(n)),n}return Object(y.a)(a,[{key:"handleChange",value:function(e){var t=!this.state.checked;this.setState({checked:t}),this.props.handleLevelChange(t)}},{key:"render",value:function(){return r.a.createElement("div",{className:"checkbox"},r.a.createElement("label",{htmlFor:"aggregate"},"Aggregate by state"),r.a.createElement("input",{type:"checkbox",name:"aggregate",value:"Aggregate",checked:this.state.checked,onChange:this.handleChange}))}}]),a}(r.a.Component);a(132).config();var le,ce=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleClick=function(){var e=["2000","2004","2008","2012","2016"];if("TotalGDP"===n.state.nextVar||n.state.nextVar.includes("Industry")){if("2000"===n.state.nextYear)return void n.setState({errorMsg:"GDP data is not available for the year 2000"})}else if(!e.includes(n.state.nextYear))return void n.setState({errorMsg:"Election data is not available for the year "+n.state.nextYear});if(n.state.nextFilter)if("TotalGDP"===n.state.nextFilterVar||n.state.nextFilterVar.includes("Industry")){if("2000"===n.state.nextFilterYear)return void n.setState({errorMsg:"GDP data is not available for the year 2000"})}else if(!e.includes(n.state.nextFilterYear))return void n.setState({errorMsg:"Election data is not available for the year "+n.state.nextFilterYear});var t=n.state.queryURL;"Democrat"===n.state.nextVar?t="/dem-votes":"Republican"===n.state.nextVar?t="/rep-votes":"Other"===n.state.nextVar?t="/other-votes":"RepDemDiff"===n.state.nextVar?t="/rep-dem-diff":"TotalGDP"===n.state.nextVar?t="/total-gdp":n.state.nextVar.startsWith("Industry")?t="/industry-gdp":"TopIndustry"===n.state.nextVar&&(t="/top-industry"),n.state.nextFilter?n.setState({year:n.state.nextYear,filter:n.state.nextFilter,filterYear:n.state.nextFilterYear,filterVar:n.state.nextFilterVar,op:n.state.nextOp,val:n.state.nextVal,queryURL:t,industry:n.state.nextIndustry,errorMsg:"",aggregate:n.state.nextAggregate}):n.setState({year:n.state.nextYear,filter:n.state.nextFilter,filterYear:n.state.nextFilterYear,filterVar:"none",op:n.state.nextOp,val:n.state.nextVal,queryURL:t,industry:n.state.nextIndustry,errorMsg:"",aggregate:n.state.nextAggregate})},document.title="Map",n.state={year:"2016",nextYear:"2016",queryURL:"/rep-dem-diff",nextVar:"",filter:!1,nextFilter:!1,filterYear:"2016",nextFilterYear:"2016",filterVar:"none",nextFilterVar:"RepDemDiff",filterLabel:"%",op:"gt",nextOp:"gt",val:0,nextVal:0,industry:1,nextIndustry:1,errorMsg:"",aggregate:!1,nextAggregate:!1},n.handleYearChange=n.handleYearChange.bind(Object(X.a)(n)),n.handleVarChange=n.handleVarChange.bind(Object(X.a)(n)),n.handleFilterYearChange=n.handleFilterYearChange.bind(Object(X.a)(n)),n.handleFilterVarChange=n.handleFilterVarChange.bind(Object(X.a)(n)),n.handleFilterChange=n.handleFilterChange.bind(Object(X.a)(n)),n.handleOpChange=n.handleOpChange.bind(Object(X.a)(n)),n.handleValChange=n.handleValChange.bind(Object(X.a)(n)),n.handleLevelChange=n.handleLevelChange.bind(Object(X.a)(n)),n}return Object(y.a)(a,[{key:"handleYearChange",value:function(e){this.setState({nextYear:e})}},{key:"handleVarChange",value:function(e){if(this.setState({nextVar:e}),e.startsWith("Industry")){var t=Number(e.substr(8));this.setState({nextIndustry:t})}}},{key:"handleFilterChange",value:function(e){this.setState({nextFilter:e})}},{key:"handleLevelChange",value:function(e){this.setState({nextAggregate:e})}},{key:"handleOpChange",value:function(e){this.setState({nextOp:e})}},{key:"handleValChange",value:function(e){this.setState({nextVal:e})}},{key:"handleFilterYearChange",value:function(e){this.setState({nextFilterYear:e})}},{key:"handleFilterVarChange",value:function(e){this.setState({nextFilterVar:e}),"TotalGDP"===e?this.setState({filterLabel:"million dollars"}):this.setState({filterLabel:"%"})}},{key:"render",value:function(){return r.a.createElement("div",{className:"map"},r.a.createElement($,{year:this.state.year,filter:this.state.filterVar,filterYear:this.state.filterYear,operand:this.state.op,val:this.state.val,queryURL:this.state.queryURL,industry:this.state.industry,level:this.state.aggregate?"state":"county"}),r.a.createElement("p",{className:"error"},this.state.errorMsg),r.a.createElement("p",null,'Select a year and variable, then click "Submit" to update the map.'),r.a.createElement("section",{className:"selector"},r.a.createElement(ae,{id:"year-dropdown",handleYearChange:this.handleYearChange}),r.a.createElement(se,{id:"variable-dropdown",handleVarChange:this.handleVarChange,includeCategorical:!0}),r.a.createElement(oe,{id:"aggregate",checked:this.state.aggregate,handleLevelChange:this.handleLevelChange}),r.a.createElement("button",{id:"submit",onClick:this.handleClick},"Submit")),r.a.createElement("p",null,"Optional: select a filter variable and year. If selected, only those counties that meet the stated condition will be mapped."),r.a.createElement("section",{className:"filter"},r.a.createElement(ie,{id:"filter",checked:this.state.filter,handleFilterChange:this.handleFilterChange}),r.a.createElement(ae,{id:"filter-year-dropdown",handleYearChange:this.handleFilterYearChange}),r.a.createElement(se,{id:"filter-variable-dropdown",handleVarChange:this.handleFilterVarChange}),r.a.createElement(ne,{id:"cmp-dropdown",handleOpChange:this.handleOpChange}),r.a.createElement(re,{id:"cmp-input",handleValChange:this.handleValChange,filterLabel:this.state.filterLabel})),r.a.createElement("p",null,"Note: Election data is only available for election years (2000, 2004, 2008, 2012, and 2016). GDP data is not available for the year 2000."))}}]),a}(r.a.Component),ue=a(12),de=[];for(le=2e3;le<=2018;le++){var he=le.toString();de.push(r.a.createElement("option",{value:he,key:le},he))}var ye=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={years:[],selectedYear:"2016"},n.handleChange=n.handleChange.bind(Object(X.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.setState({years:de})}},{key:"handleChange",value:function(e){this.setState({selectedYear:e.target.value}),this.props.handleYearChange(e.target.value)}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.forceUpdate()}},{key:"render",value:function(){return r.a.createElement("div",{className:"dropdown"},r.a.createElement("label",{htmlFor:"years"},"Year: "),r.a.createElement("select",{name:"years",value:this.state.selectedYear,onChange:this.handleChange},this.state.years))}}]),a}(r.a.Component),me=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={vars:[],selectedVar:"1"},n.handleChange=n.handleChange.bind(Object(X.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=[];e.push(r.a.createElement("option",{key:"1",value:"1"},"Private industries")),e.push(r.a.createElement("option",{key:"2",value:"2"},"Agriculture, forestry, fishing and hunting")),e.push(r.a.createElement("option",{key:"3",value:"3"},"Mining, quarrying, and oil and gas extraction")),e.push(r.a.createElement("option",{key:"4",value:"4"},"Utilities")),e.push(r.a.createElement("option",{key:"5",value:"5"},"Construction")),e.push(r.a.createElement("option",{key:"6",value:"6"},"Manufacturing")),e.push(r.a.createElement("option",{key:"7",value:"7"},"Durable goods manufacturing")),e.push(r.a.createElement("option",{key:"8",value:"8"},"Nondurable goods manufacturing")),e.push(r.a.createElement("option",{key:"9",value:"9"},"Wholesale trade")),e.push(r.a.createElement("option",{key:"10",value:"10"},"Retail trade")),e.push(r.a.createElement("option",{key:"11",value:"11"},"Transportation and warehousing")),e.push(r.a.createElement("option",{key:"12",value:"12"},"Information")),e.push(r.a.createElement("option",{key:"13",value:"13"},"Finance, insurance, real estate, rental, and leasing")),e.push(r.a.createElement("option",{key:"14",value:"14"},"Finance and insurance")),e.push(r.a.createElement("option",{key:"15",value:"15"},"Real estate and rental and leasing")),e.push(r.a.createElement("option",{key:"16",value:"16"},"Professional and business services")),e.push(r.a.createElement("option",{key:"17",value:"17"},"Professional, scientific, and technical services")),e.push(r.a.createElement("option",{key:"18",value:"18"},"Management of companies and enterprises")),e.push(r.a.createElement("option",{key:"19",value:"19"},"Administrative and support and waste management and remediation services")),e.push(r.a.createElement("option",{key:"20",value:"20"},"Educational services, health care, and social assistance")),e.push(r.a.createElement("option",{key:"21",value:"21"},"Educational services")),e.push(r.a.createElement("option",{key:"22",value:"22"},"Health care and social assistance")),e.push(r.a.createElement("option",{key:"23",value:"23"},"Arts, entertainment, recreation, accommodation, and food services")),e.push(r.a.createElement("option",{key:"24",value:"24"},"Arts, entertainment, and recreation")),e.push(r.a.createElement("option",{key:"25",value:"25"},"Accommodation and food services")),e.push(r.a.createElement("option",{key:"26",value:"26"},"Other services (except government and government enterprises)")),e.push(r.a.createElement("option",{key:"27",value:"27"},"Government and government enterprises")),e.push(r.a.createElement("option",{key:"28",value:"28"},"Natural resources and mining")),e.push(r.a.createElement("option",{key:"29",value:"29"},"Trade")),e.push(r.a.createElement("option",{key:"30",value:"30"},"Transportation and utilities")),e.push(r.a.createElement("option",{key:"31",value:"31"},"Manufacturing and information")),e.push(r.a.createElement("option",{key:"32",value:"32"},"Private goods-producing industries 2/")),e.push(r.a.createElement("option",{key:"33",value:"33"},"Private services-providing industries 3/")),this.setState({vars:e})}},{key:"handleChange",value:function(e){this.setState({selectedVar:e.target.value}),this.props.handleIndustryChange(e.target.value)}},{key:"render",value:function(){return r.a.createElement("div",{className:"dropdown"},r.a.createElement("label",{htmlFor:"vars"},"Industry: "),r.a.createElement("select",{name:"vars",value:this.state.selectedVar,onChange:this.handleChange},this.state.vars))}}]),a}(r.a.Component),pe=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={vars:[],selectedVar:"Democrat"},n.handleChange=n.handleChange.bind(Object(X.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=[];e.push(r.a.createElement("option",{value:"RepDemDiff",key:"1"},"% Republican votes - % Democrat votes")),e.push(r.a.createElement("option",{value:"Democrat",key:"2"},"% votes for Democrat")),e.push(r.a.createElement("option",{value:"Republican",key:"3"},"% votes for Republican")),e.push(r.a.createElement("option",{value:"Other",key:"5"},"% votes for Other")),e.push(r.a.createElement("option",{value:"TotalGDP",key:"6"},"Total GDP (in thousands of dollars)")),e.push(r.a.createElement("option",{value:"GDPGrowthSince2001",key:"7"},"GDP Growth since 2001 (in thousands of dollars)")),e.push(r.a.createElement("option",{value:"GDPGrowthSinceLastElection",key:"8"},"GDP Growth since Last Election (in thousands of dollars)")),e.push(r.a.createElement("option",{value:"IndustryGDP",key:"9"},"Industry GDP (in thousands of dollars)")),e.push(r.a.createElement("option",{value:"GDPIndustryComp",key:"10"},"GDP Difference between Industry 1 and Industry 2 (in thousands of dollars)")),this.setState({vars:e})}},{key:"handleChange",value:function(e){this.setState({selectedVar:e.target.value}),this.props.handleXVarChange(e.target.value)}},{key:"render",value:function(){return r.a.createElement("div",{className:"dropdown"},r.a.createElement("label",{htmlFor:"vars"},"X-Variable: "),r.a.createElement("select",{name:"vars",value:this.state.selectedVar,onChange:this.handleChange},this.state.vars))}}]),a}(r.a.Component),fe=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={vars:[],selectedVar:"Democrat"},n.handleChange=n.handleChange.bind(Object(X.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=[];e.push(r.a.createElement("option",{value:"RepDemDiff",key:"1"},"% Republican votes - % Democrat votes")),e.push(r.a.createElement("option",{value:"Democrat",key:"2"},"% votes for Democrat")),e.push(r.a.createElement("option",{value:"Republican",key:"3"},"% votes for Republican")),e.push(r.a.createElement("option",{value:"Other",key:"5"},"% votes for Other")),e.push(r.a.createElement("option",{value:"TotalGDP",key:"6"},"Total GDP (in thousands of dollars)")),e.push(r.a.createElement("option",{value:"GDPGrowthSince2001",key:"7"},"GDP Growth since 2001 (in thousands of dollars)")),e.push(r.a.createElement("option",{value:"GDPGrowthSinceLastElection",key:"8"},"GDP Growth since Last Election (in thousands of dollars)")),e.push(r.a.createElement("option",{value:"IndustryGDP",key:"9"},"Industry GDP (in thousands of dollars)")),e.push(r.a.createElement("option",{value:"GDPIndustryComp",key:"10"},"GDP Difference between Industry 1 and Industry 2 (in thousands of dollars)")),this.setState({vars:e})}},{key:"handleChange",value:function(e){this.setState({selectedVar:e.target.value}),this.props.handleYVarChange(e.target.value)}},{key:"render",value:function(){return r.a.createElement("div",{className:"dropdown"},r.a.createElement("label",{htmlFor:"vars"},"Y-Variable: "),r.a.createElement("select",{name:"vars",value:this.state.selectedVar,onChange:this.handleChange},this.state.vars))}}]),a}(r.a.Component);Z.a.register([a(388)]);var ge=B()(Z.a),ve=!1,Ee=!1,be=!1,Ce=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleClick=function(){var e=n.state.xQueryURL;"Democrat"===n.state.xVar?e="/dem-votes?year="+n.state.year:"Republican"===n.state.xVar?e="/rep-votes?year="+n.state.year:"Other"===n.state.xVar?e="/other-votes?year="+n.state.year:"RepDemDiff"===n.state.xVar?e="/rep-dem-diff?year="+n.state.year:"TotalGDP"===n.state.xVar?e="/total-county-gdp?year="+n.state.year:"GDPGrowthSince2001"===n.state.xVar?e="/gdp-growth-since-2001":"GDPGrowthSinceLastElection"===n.state.xVar?e="/gdp-growth-since-last-election?year="+n.state.year+"&lastElectionYear="+n.state.lastElectionYear:"GDPIndustryComp"===n.state.xVar?e="/gdp-industry-comp?year="+n.state.year+"&industry1="+n.state.xIndustry1+"&industry2="+n.state.xIndustry2:"IndustryGDP"===n.state.xVar&&(e="/industry-gdp-county?year="+n.state.year+"&industry1="+n.state.xIndustry1);var t=n.state.yQueryURL;"Democrat"===n.state.yVar?t="/dem-votes?year="+n.state.year:"Republican"===n.state.yVar?t="/rep-votes?year="+n.state.year:"Other"===n.state.yVar?t="/other-votes?year="+n.state.year:"RepDemDiff"===n.state.yVar?t="/rep-dem-diff?year="+n.state.year:"TotalGDP"===n.state.yVar?t="/total-county-gdp?year="+n.state.year:"GDPGrowthSince2001"===n.state.yVar?t="/gdp-growth-since-2001":"GDPGrowthSinceLastElection"===n.state.yVar?t="/gdp-growth-since-last-election?year="+n.state.year+"&lastElectionYear="+n.state.lastElectionYear:"GDPIndustryComp"===n.state.yVar?t="/gdp-industry-comp?year="+n.state.year+"&industry1="+n.state.yIndustry1+"&industry2="+n.state.yIndustry2:"IndustryGDP"===n.state.yVar&&(t="/industry-gdp-county?year="+n.state.year+"&industry1="+n.state.yIndustry1);("TotalGDP"===n.state.xVar||"GDPGrowthSince2001"===n.state.xVar||"GDPGrowthSinceLastElection"===n.state.xVar||"GDPIndustryComp"===n.state.xVar||"IndustryGDP"===n.state.xVar||"TotalGDP"===n.state.yVar||"GDPGrowthSince2001"===n.state.yVar||"GDPGrowthSinceLastElection"===n.state.yVar||"GDPIndustryComp"===n.state.yVar||"IndustryGDP"===n.state.yVar)&&n.state.year<2005?"2000"===n.state.year?n.setState({errorMsg1:"GDP data is not available for the year 2000"}):"GDPGrowthSinceLastElection"===n.state.xVar||"GDPGrowthSinceLastElection"===n.state.yVar?n.setState({errorMsg1:"GDP data is not available for the year 2000 (the last election year)"}):n.setState({errorMsg1:""}):n.setState({errorMsg1:""}),"Democrat"===n.state.xVar||"Republican"===n.state.xVar||"Other"===n.state.xVar||"RepDemDiff"===n.state.xVar||"Democrat"===n.state.yVar||"Republican"===n.state.yVar||"Other"===n.state.yVar||"RepDemDiff"===n.state.yVar?["2000","2004","2008","2012","2016"].includes(n.state.year)?n.setState({errorMsg2:""}):n.setState({errorMsg2:"Election data is not available for the year "+n.state.year}):n.setState({errorMsg2:""}),n.setState({xQueryURL:e,yQueryURL:t},(function(){return this.componentDidMount()}))},document.title="Graph",n.state={year:"2016",lastElectionYear:"2012",xVar:"Democrat",yVar:"Democrat",xQueryURL:"/dem-votes?year=2016",yQueryURL:"/dem-votes?year=2016",labels:[],locations:[],needsXIndustryDropdown1:!1,needsXIndustryDropdown2:!1,needsYIndustryDropdown1:!1,needsYIndustryDropdown2:!1,xIndustry1:1,xIndustry2:1,yIndustry1:1,yIndustry2:1,xResult:[],yResult:[],errorMsg1:"",errorMsg2:""},n.handleYearChange=n.handleYearChange.bind(Object(X.a)(n)),n.handleXIndustry1Change=n.handleXIndustry1Change.bind(Object(X.a)(n)),n.handleXIndustry2Change=n.handleXIndustry2Change.bind(Object(X.a)(n)),n.handleYIndustry1Change=n.handleYIndustry1Change.bind(Object(X.a)(n)),n.handleYIndustry2Change=n.handleYIndustry2Change.bind(Object(X.a)(n)),n.handleXVarChange=n.handleXVarChange.bind(Object(X.a)(n)),n.handleYVarChange=n.handleYVarChange.bind(Object(X.a)(n)),n.handleClick=n.handleClick.bind(Object(X.a)(n)),n}return Object(y.a)(a,[{key:"handleYearChange",value:function(e){var t;t=e%4===0?e-4:e-e%4,this.setState({year:e,lastElectionYear:t})}},{key:"handleXVarChange",value:function(e){"GDPIndustryComp"===e?this.setState({xVar:e,needsXIndustryDropdown1:!0,needsXIndustryDropdown2:!0}):"IndustryGDP"===e?this.setState({xVar:e,needsXIndustryDropdown1:!0,needsXIndustryDropdown2:!1}):this.setState({xVar:e,needsXIndustryDropdown1:!1,needsXIndustryDropdown2:!1})}},{key:"handleYVarChange",value:function(e){"GDPIndustryComp"===e?this.setState({yVar:e,needsYIndustryDropdown1:!0,needsYIndustryDropdown2:!0}):"IndustryGDP"===e?this.setState({yVar:e,needsYIndustryDropdown1:!0,needsYIndustryDropdown2:!1}):this.setState({yVar:e,needsYIndustryDropdown1:!1,needsYIndustryDropdown2:!1})}},{key:"handleXIndustry1Change",value:function(e){this.setState({xIndustry1:e})}},{key:"handleXIndustry2Change",value:function(e){this.setState({xIndustry2:e})}},{key:"handleYIndustry1Change",value:function(e){this.setState({yIndustry1:e})}},{key:"handleYIndustry2Change",value:function(e){this.setState({yIndustry2:e})}},{key:"componentDidMount",value:function(){var e=this,t=[],a=[],n=[],r=[];fetch(Me.concat(this.state.xQueryURL)).then((function(e){return e.json()})).then((function(a){t=a.map((function(e,t){return e.Z})),ve=!0,e.setState({xResult:t})}),(function(t){e.setState({error:t})})),fetch(Me.concat(this.state.yQueryURL)).then((function(e){return e.json()})).then((function(t){a=t.map((function(e,t){return e.Z})),Ee=!0,e.setState({yResult:a})}),(function(t){e.setState({error:t})})),fetch(Me.concat("/counties")).then((function(e){return e.json()})).then((function(t){n=t.map((function(e,t){return e.Z})),r=t.map((function(e,t){return e.FIPS})),be=!0,e.setState({labels:n,locations:r})}),(function(t){e.setState({error:t})}))}},{key:"render",value:function(){var e,t,a,n,s,i,o,l;this.state.needsXIndustryDropdown1&&(e=r.a.createElement(me,{id:"x-industry-dropdown",handleIndustryChange:this.handleXIndustry1Change})),this.state.needsXIndustryDropdown2&&(t=r.a.createElement(me,{id:"x-industry-dropdown",handleIndustryChange:this.handleXIndustry2Change})),this.state.needsYIndustryDropdown1&&(a=r.a.createElement(me,{id:"y-industry-dropdown",handleIndustryChange:this.handleYIndustry1Change})),this.state.needsYIndustryDropdown2&&(n=r.a.createElement(me,{id:"y-industry-dropdown",handleIndustryChange:this.handleYIndustry2Change})),ve&&Ee&&be&&(s=this.state.xResult,i=this.state.yResult,o=this.state.labels,l=this.state.locations,ve=!1,Ee=!1,be=!1);var c=.8*Math.min(document.documentElement.clientWidth,document.documentElement.clientHeight);return r.a.createElement("div",{className:"page"},r.a.createElement("section",{className:"graph"},r.a.createElement(ge,{data:[{x:s,y:i,type:"scatter",mode:"markers",marker:{color:"blue"},text:o,customdata:l}],layout:{width:c,height:c,hovermode:"closest"},onClick:function(e){window.location.href="/electecon/county/"+e.points[0].customdata+"#county-profile"}})),r.a.createElement("section",{className:"scatterSelector"},r.a.createElement("p",{className:"error"},this.state.errorMsg1+"\n"),r.a.createElement("p",{className:"error"},this.state.errorMsg2),r.a.createElement(ye,{id:"year-dropdown",handleYearChange:this.handleYearChange}),r.a.createElement(pe,{id:"variable-dropdown",handleXVarChange:this.handleXVarChange,includeCategorical:!0}),e,t,r.a.createElement(fe,{id:"variable-dropdown",handleYVarChange:this.handleYVarChange,includeCategorical:!0}),a,n),r.a.createElement("button",{id:"submit",onClick:this.handleClick},"Submit"))}}]),a}(r.a.Component);Z.a.register([a(389)]);var De=B()(Z.a),Oe=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleClick=function(){var e=n.state.industry1String;"1"===n.state.industry1?e="Private industries, "+n.state.year1:"2"===n.state.industry1?e="Agriculture, forestry, fishing and hunting, "+n.state.year1:"3"===n.state.industry1?e="Mining, quarrying, and oil and gas extraction, "+n.state.year1:"4"===n.state.industry1?e="Utilities, "+n.state.year1:"5"===n.state.industry1?e="Construction, "+n.state.year1:"6"===n.state.industry1?e="Manufacturing, "+n.state.year1:"7"===n.state.industry1?e="Durable goods manufacturing, "+n.state.year1:"8"===n.state.industry1?e="Nondurable goods manufacturing, "+n.state.year1:"9"===n.state.industry1?e="Wholesale trade, "+n.state.year1:"10"===n.state.industry1?e="Retail trade, "+n.state.year1:"11"===n.state.industry1?e="Transportation, "+n.state.year1:"12"===n.state.industry1?e="Information, "+n.state.year1:"13"===n.state.industry1?e="Finance, insurance, real estate, rental, and leasing, "+n.state.year1:"14"===n.state.industry1?e="Finance and insurance, "+n.state.year1:"15"===n.state.industry1?e="Real estate and rental and leasing, "+n.state.year1:"16"===n.state.industry1?e="Professional and business services, "+n.state.year1:"17"===n.state.industry1?e="Professional, scientific, and technical services, "+n.state.year1:"18"===n.state.industry1?e="Management of companies and enterprises, "+n.state.year1:"19"===n.state.industry1?e="Administrative and support and waste management and remediation services, "+n.state.year1:"20"===n.state.industry1?e="Educational services, health care, and social assistance, "+n.state.year1:"21"===n.state.industry1?e="Educational services, "+n.state.year1:"22"===n.state.industry1?e="Health care and social assistance, "+n.state.year1:"23"===n.state.industry1?e="Arts, entertainment, recreation, accommodation, and food services, "+n.state.year1:"24"===n.state.industry1?e="Arts, entertainment, and recreation, "+n.state.year1:"25"===n.state.industry1?e="Accommodation and food services, "+n.state.year1:"26"===n.state.industry1?e="Other services (except government and government enterprises), "+n.state.year1:"27"===n.state.industry1?e="Government and government enterprises, "+n.state.year1:"28"===n.state.industry1?e="Natural resources and mining, "+n.state.year1:"29"===n.state.industry1?e="Trade, "+n.state.year1:"30"===n.state.industry1?e="Transportation and utilities, "+n.state.year1:"31"===n.state.industry1?e="Manufacturing and information, "+n.state.year1:"32"===n.state.industry1?e="Private goods-producing industries 2, "+n.state.year1:"33"===n.state.industry1&&(e="Private services-providing industries 3, "+n.state.year1);var t=n.industry2String;"1"===n.state.industry2?t="Private industries, "+n.state.year2:"2"===n.state.industry2?t="Agriculture, forestry, fishing and hunting, "+n.state.year2:"3"===n.state.industry2?t="Mining, quarrying, and oil and gas extraction, "+n.state.year2:"4"===n.state.industry2?t="Utilities, "+n.state.year2:"5"===n.state.industry2?t="Construction, "+n.state.year2:"6"===n.state.industry2?t="Manufacturing, "+n.state.year2:"7"===n.state.industry2?t="Durable goods manufacturing, "+n.state.year2:"8"===n.state.industry2?t="Nondurable goods manufacturing, "+n.state.year2:"9"===n.state.industry2?t="Wholesale trade, "+n.state.year2:"10"===n.state.industry2?t="Retail trade, "+n.state.year2:"11"===n.state.industry2?t="Transportation, "+n.state.year2:"12"===n.state.industry2?t="Information, "+n.state.year2:"13"===n.state.industry2?t="Finance, insurance, real estate, rental, and leasing, "+n.state.year2:"14"===n.state.industry2?t="Finance and insurance, "+n.state.year2:"15"===n.state.industry2?t="Real estate and rental and leasing, "+n.state.year2:"16"===n.state.industry2?t="Professional and business services, "+n.state.year2:"17"===n.state.industry2?t="Professional, scientific, and technical services, "+n.state.year2:"18"===n.state.industry2?t="Management of companies and enterprises, "+n.state.year2:"19"===n.state.industry2?t="Administrative and support and waste management and remediation services, "+n.state.year2:"20"===n.state.industry2?t="Educational services, health care, and social assistance, "+n.state.year2:"21"===n.state.industry2?t="Educational services, "+n.state.year2:"22"===n.state.industry2?t="Health care and social assistance, "+n.state.year2:"23"===n.state.industry2?t="Arts, entertainment, recreation, accommodation, and food services, "+n.state.year2:"24"===n.state.industry2?t="Arts, entertainment, and recreation, "+n.state.year2:"25"===n.state.industry2?t="Accommodation and food services, "+n.state.year2:"26"===n.state.industry2?t="Other services (except government and government enterprises), "+n.state.year2:"27"===n.state.industry2?t="Government and government enterprises, "+n.state.year2:"28"===n.state.industry2?t="Natural resources and mining, "+n.state.year2:"29"===n.state.industry2?t="Trade, "+n.state.year2:"30"===n.state.industry2?t="Transportation and utilities, "+n.state.year2:"31"===n.state.industry2?t="Manufacturing and information, "+n.state.year2:"32"===n.state.industry2?t="Private goods-producing industries 2, "+n.state.year2:"33"===n.state.industry2&&(t="Private services-providing industries 3, "+n.state.year2);var a=n.industry3String;"1"===n.state.industry3?a="Private industries, "+n.state.year3:"2"===n.state.industry3?a="Agriculture, forestry, fishing and hunting, "+n.state.year3:"3"===n.state.industry3?a="Mining, quarrying, and oil and gas extraction, "+n.state.year3:"4"===n.state.industry3?a="Utilities, "+n.state.year3:"5"===n.state.industry3?a="Construction, "+n.state.year3:"6"===n.state.industry3?a="Manufacturing, "+n.state.year3:"7"===n.state.industry3?a="Durable goods manufacturing, "+n.state.year3:"8"===n.state.industry3?a="Nondurable goods manufacturing, "+n.state.year3:"9"===n.state.industry3?a="Wholesale trade, "+n.state.year3:"10"===n.state.industry3?a="Retail trade, "+n.state.year3:"11"===n.state.industry3?a="Transportation, "+n.state.year3:"12"===n.state.industry3?a="Information, "+n.state.year3:"13"===n.state.industry3?a="Finance, insurance, real estate, rental, and leasing, "+n.state.year3:"14"===n.state.industry3?a="Finance and insurance, "+n.state.year3:"15"===n.state.industry3?a="Real estate and rental and leasing, "+n.state.year3:"16"===n.state.industry3?a="Professional and business services, "+n.state.year3:"17"===n.state.industry3?a="Professional, scientific, and technical services, "+n.state.year3:"18"===n.state.industry3?a="Management of companies and enterprises, "+n.state.year3:"19"===n.state.industry3?a="Administrative and support and waste management and remediation services, "+n.state.year3:"20"===n.state.industry3?a="Educational services, health care, and social assistance, "+n.state.year3:"21"===n.state.industry3?a="Educational services, "+n.state.year3:"22"===n.state.industry3?a="Health care and social assistance, "+n.state.year3:"23"===n.state.industry3?a="Arts, entertainment, recreation, accommodation, and food services, "+n.state.year3:"24"===n.state.industry3?a="Arts, entertainment, and recreation, "+n.state.year3:"25"===n.state.industry3?a="Accommodation and food services, "+n.state.year3:"26"===n.state.industry3?a="Other services (except government and government enterprises), "+n.state.year3:"27"===n.state.industry3?a="Government and government enterprises, "+n.state.year3:"28"===n.state.industry3?a="Natural resources and mining, "+n.state.year3:"29"===n.state.industry3?a="Trade, "+n.state.year3:"30"===n.state.industry3?a="Transportation and utilities, "+n.state.year3:"31"===n.state.industry3?a="Manufacturing and information, "+n.state.year3:"32"===n.state.industry3?a="Private goods-producing industries 2, "+n.state.year3:"33"===n.state.industry3&&(a="Private services-providing industries 3, "+n.state.year3),"2000"===n.state.year1?n.setState({errorMsg1:"GDP data is not available for the year 2000"}):n.setState({errorMsg1:""}),"2000"===n.state.year2?n.setState({errorMsg2:"GDP data is not available for the year 2000"}):n.setState({errorMsg2:""}),"2000"===n.state.year3?n.setState({errorMsg3:"GDP data is not available for the year 2000"}):n.setState({errorMsg3:""});var r="/bar-industry-gdp?year1="+n.state.year1+"&year2="+n.state.year2+"&year3="+n.state.year3+"&industry1="+n.state.industry1+"&industry2="+n.state.industry2+"&industry3="+n.state.industry3;n.setState({yQueryURL:r,industry1String:e,industry2String:t,industry3String:a,xResult:[e,t+" ",a+"  "]},(function(){return this.componentDidMount()}))},document.title="Graph",n.state={year1:"2016",year2:"2016",year3:"2016",yQueryURL:"/bar-industry-gdp?year1=2016&year2=2016&year3=2016&industry1=1&industry2=1&industry3=1",industry1:"1",industry2:"1",industry3:"1",industry1String:"Private industries, 2016",industry2String:"Private industries, 2016",industry3String:"Private industries, 2016",xResult:["Private industries, 2016","Private industries, 2016 ","Private industries, 2016  "],yResult:[],errorMsg1:"",errorMsg2:"",errorMsg3:""},n.handleYear1Change=n.handleYear1Change.bind(Object(X.a)(n)),n.handleYear2Change=n.handleYear2Change.bind(Object(X.a)(n)),n.handleYear3Change=n.handleYear3Change.bind(Object(X.a)(n)),n.handleIndustry1Change=n.handleIndustry1Change.bind(Object(X.a)(n)),n.handleIndustry2Change=n.handleIndustry2Change.bind(Object(X.a)(n)),n.handleIndustry3Change=n.handleIndustry3Change.bind(Object(X.a)(n)),n.handleClick=n.handleClick.bind(Object(X.a)(n)),n}return Object(y.a)(a,[{key:"handleYear1Change",value:function(e){this.setState({year1:e})}},{key:"handleYear2Change",value:function(e){this.setState({year2:e})}},{key:"handleYear3Change",value:function(e){this.setState({year3:e})}},{key:"handleIndustry1Change",value:function(e){this.setState({industry1:e})}},{key:"handleIndustry2Change",value:function(e){this.setState({industry2:e})}},{key:"handleIndustry3Change",value:function(e){this.setState({industry3:e})}},{key:"componentDidMount",value:function(){var e=this,t=[];fetch(Me.concat(this.state.yQueryURL)).then((function(e){return e.json()})).then((function(a){t=a.map((function(e,t){return e.Z})),e.setState({yResult:t})}),(function(t){e.setState({error:t})}))}},{key:"render",value:function(){var e=.8*Math.min(document.documentElement.clientWidth,document.documentElement.clientHeight);return r.a.createElement("div",{className:"page"},r.a.createElement("section",{className:"graph"},r.a.createElement(De,{data:[{x:this.state.xResult,y:this.state.yResult,type:"bar",mode:"markers",marker:{color:"blue"}}],layout:{width:e,height:e,title:"Total GDP By Industry (in thousands of dollars)",xaxis:{automargin:!0}}})),r.a.createElement("section",{className:"barSelector"},r.a.createElement(me,{id:"industry-dropdown-1",handleIndustryChange:this.handleIndustry1Change}),r.a.createElement(ye,{id:"year-dropdown-1",handleYearChange:this.handleYear1Change}),r.a.createElement("p",{className:"error"},this.state.errorMsg1)),r.a.createElement("section",{className:"barSelector"},r.a.createElement(me,{id:"industry-dropdown-2",handleIndustryChange:this.handleIndustry2Change}),r.a.createElement(ye,{id:"year-dropdown-2",handleYearChange:this.handleYear2Change}),r.a.createElement("p",{className:"error"},this.state.errorMsg2)),r.a.createElement("section",{className:"barSelector"},r.a.createElement(me,{id:"industry-dropdown-3",handleIndustryChange:this.handleIndustry3Change}),r.a.createElement(ye,{id:"year-dropdown-3",handleYearChange:this.handleYear3Change}),r.a.createElement("p",{className:"error"},this.state.errorMsg3)),r.a.createElement("button",{id:"submit",onClick:this.handleClick},"Submit"))}}]),a}(r.a.Component);a(400);var ke=function(){var e,t=Object(n.useState)(null),a=Object(ue.a)(t,2),s=a[0],i=a[1];return document.title="Graph","Scatter"===s?e=r.a.createElement(Ce,null):"Bar"===s&&(e=r.a.createElement(Oe,null)),r.a.createElement("div",{id:"GraphPage"},r.a.createElement("button",{onClick:function(){return i("Scatter")}},"Scatterplot"),r.a.createElement("button",{onClick:function(){return i("Bar")}},"Bar Graph"),e)},je=function(e){console.log(e)};var Se=function(e){if(!e.data||0===e.data.length)return r.a.createElement("div",{id:"ElectionGraph"},"No election data found.");var t,a=[["Year","Democrat Votes","Republican Votes"]],n=Object(d.a)(e.data);try{for(n.s();!(t=n.n()).done;){var s=t.value;a.push([s.Year,s.DemVote,s.RepVote])}}catch(i){n.e(i)}finally{n.f()}return r.a.createElement("div",{id:"ElectionGraph"},r.a.createElement(f.a,{chartType:"AreaChart",loader:r.a.createElement("div",null,"Loading Election Data"),data:a,options:{title:"Election Trends",vAxis:{title:"Votes"},hAxis:{title:"Year",format:"####",ticks:[2e3,2004,2008,2012,2016],textStyle:{fontSize:12}},chartArea:{width:"60%",height:"70%"}}}))};var Ie=function(e){if(!e.gdpData||0===e.gdpData.length)return r.a.createElement("div",{id:"GDPGraph"},"No GDP data found.");var t,a=[["Year","GDP (millions of dollars)"]],n=Object(d.a)(e.gdpData);try{for(n.s();!(t=n.n()).done;){var s=t.value;a.push([s.YEAR,s.GDP])}}catch(i){n.e(i)}finally{n.f()}return r.a.createElement("div",{id:"GDPGraph"},r.a.createElement(f.a,{chartType:"LineChart",loader:r.a.createElement("div",null,"Loading GDP Data"),data:a,options:{title:"GDP Trends",vAxis:{title:"GDP (millions of dollars)"},hAxis:{title:"Year",format:"####",ticks:[2e3,2004,2008,2012,2016],textStyle:{fontSize:12}},chartArea:{width:"60%",height:"70%"}}}))};function Ne(e){var t=Object(n.useState)(null),a=Object(ue.a)(t,2),s=a[0],i=a[1],o=Object(n.useState)(null),l=Object(ue.a)(o,2),c=l[0],u=l[1],h=e.handleUpdate;return Object(n.useEffect)((function(){h(s);var e=[];fetch(Te.concat("/industries")).then((function(e){return e.json()})).then((function(t){var a,n=Object(d.a)(t);try{for(n.s();!(a=n.n()).done;){var s=a.value;e.push(r.a.createElement("option",{key:s.INDUSTRY_ID,value:s.INDUSTRY_ID},s.NAME))}}catch(i){n.e(i)}finally{n.f()}u(e)}))}),[s,h]),r.a.createElement("div",{className:"dropdown"},r.a.createElement("label",{htmlFor:"industry"},"Choose an industry: "),r.a.createElement("select",{name:"industry",value:s||"",onChange:function(e){return i(e.target.value)}},c))}var Pe=function(e){if(!e.gdp||!e.industryGDP||e.gdp.length!==e.industryGDP.length)return r.a.createElement("div",{id:"IndustryGraph"},"No industry data found.");for(var t=[["Year","industryGDP (millions of dollars)"]],a=[["Year","fraction of total GDP"]],n=0;n<e.gdp.length;n++){var s=e.industryGDP[n],i=e.gdp[n];if(s.year===i.year){var o=parseFloat(s.GDP)/parseFloat(i.GDP);isNaN(o)||(t.push([s.YEAR,s.GDP]),a.push([s.YEAR,o]))}}return 1===t.length?r.a.createElement("div",{id:"IndustryGraph"},"No industry GDP data found."):r.a.createElement("div",{id:"IndustryGraph"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(f.a,{chartType:"LineChart",loader:r.a.createElement("div",null,"Loading Industry GDP data"),data:t,options:{title:"Industry GDP Trends",vAxis:{title:"GDP (millions of dollars)"},hAxis:{title:"Year",format:"####",ticks:[2e3,2004,2008,2012,2016],textStyle:{fontSize:12}},chartArea:{width:"60%",height:"70%"}}}))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(f.a,{chartType:"LineChart",loader:r.a.createElement("div",null,"Loading Industry GDP data"),data:a,options:{vAxis:{title:"fraction of total GDP"},hAxis:{title:"Year",format:"####",ticks:[2e3,2004,2008,2012,2016],textStyle:{fontSize:12}},chartArea:{width:"60%",height:"70%"}}}))))};function we(e){return e.industry?r.a.createElement("div",{id:"industrypanel"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(Ne,{handleUpdate:e.setIndustry}))),r.a.createElement(Pe,{industryGDP:e.industryGDP,gdp:e.gdp})):r.a.createElement("div",{id:"industrypanel"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(Ne,{handleUpdate:e.setIndustry}))))}var Ge=function(e){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(Se,{data:e.electionData}))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(Ie,{gdpData:e.gdpData})))),r.a.createElement("div",{className:"col-lg-6"},r.a.createElement(we,{industry:e.industry,industryGDP:e.industryGDP,gdp:e.gdpData,setIndustry:e.setIndustry}))))};var xe=function(){var e=Object(n.useState)(null),t=Object(ue.a)(e,2),a=t[0],s=t[1],i=Object(n.useState)(null),o=Object(ue.a)(i,2),l=o[0],c=o[1],u=Object(n.useState)(null),d=Object(ue.a)(u,2),h=d[0],y=d[1],m=Object(n.useState)(null),p=Object(ue.a)(m,2),f=p[0],g=p[1],v=Object(n.useState)(null),E=Object(ue.a)(v,2),b=E[0],C=E[1],D=Object(n.useState)(null),O=Object(ue.a)(D,2),k=O[0],j=O[1],S=Object(n.useState)(null),I=Object(ue.a)(S,2),N=I[0],P=I[1];return Object(n.useEffect)((function(){F(a).then((function(e){C(e.electionResult)})),V(a).then((function(e){c(e.countyName),y(e.countyState)})),function(e){return fetch(Le.concat("/county-gdp?fips=".concat(e))).then((function(e){return e.json()}))}(a).then((function(e){return j(e)})),function(e,t){return fetch(Le.concat("/county-industry?fips=".concat(e,"&industry=").concat(t))).then((function(e){return e.json()}))}(a,f).then((function(e){return P(e)}))}),[a,f]),a?r.a.createElement("div",{id:"CountyTrends"},r.a.createElement("div",{id:"Finder"},r.a.createElement(_,{getNewCounty:s})),r.a.createElement("h2",null,"County: ",l,", ",h),r.a.createElement(Ge,{electionData:b,gdpData:k,industry:f,industryGDP:N,setIndustry:g})):r.a.createElement("div",{id:"Finder"},r.a.createElement(_,{getNewCounty:s}))};function Ve(e){var t=Object(n.useState)(null),a=Object(ue.a)(t,2),s=a[0],i=a[1];return Object(n.useEffect)((function(){fetch(Le.concat("/state")).then((function(e){return e.json()}),je).then((function(e){i(e)}))}),[]),s?r.a.createElement("div",{className:"state-finder container"},r.a.createElement("div",{id:"state-finder",className:"row"},r.a.createElement("h2",null,r.a.createElement("b",null,"Find a state:"))),r.a.createElement("div",{className:"row"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",{id:"state-finder-state-container"},r.a.createElement("td",null,r.a.createElement("b",null,"State")),r.a.createElement("td",null,s.map((function(t,a){return r.a.createElement("div",{className:"btn btn-state",key:a,onClick:function(){return e.getNewState(t.STATE)},id:"btn-state-".concat(t)},t.STATE)})))))))):r.a.createElement("div",{id:"StateFinder"},"Loading States")}var Re=function(){var e=Object(n.useState)(null),t=Object(ue.a)(e,2),a=t[0],s=t[1],i=Object(n.useState)(null),o=Object(ue.a)(i,2),l=o[0],c=o[1],u=Object(n.useState)(null),d=Object(ue.a)(u,2),h=d[0],y=d[1],m=Object(n.useState)(null),p=Object(ue.a)(m,2),f=p[0],g=p[1],v=Object(n.useState)(null),E=Object(ue.a)(v,2),b=E[0],C=E[1];return Object(n.useEffect)((function(){var e;(e=a,fetch(Le.concat("/state-election?state=".concat(e))).then((function(e){return e.json()}),je)).then((function(e){y(e)})),function(e){return fetch(Le.concat("/state-gdp?state=".concat(e))).then((function(e){return e.json()}))}(a).then((function(e){g(e)})),function(e,t){return fetch(Le.concat("/state-industry?state=".concat(e,"&industry=").concat(t))).then((function(e){return e.json()}))}(a,l).then((function(e){C(e)}))}),[a,l]),a?r.a.createElement("div",{id:"StateTrends"},r.a.createElement("div",{id:"Finder"},r.a.createElement(Ve,{getNewState:s})),r.a.createElement("h2",null,"State: ",a),r.a.createElement(Ge,{electionData:h,gdpData:f,industry:l,industryGDP:b,setIndustry:c})):r.a.createElement("div",{id:"Finder"},r.a.createElement(Ve,{getNewState:s}))};var Ae=function(){var e=Object(n.useState)(null),t=Object(ue.a)(e,2),a=t[0],s=t[1],i=Object(n.useState)(null),o=Object(ue.a)(i,2),l=o[0],c=o[1],u=Object(n.useState)(null),d=Object(ue.a)(u,2),h=d[0],y=d[1],m=Object(n.useState)(null),p=Object(ue.a)(m,2),f=p[0],g=p[1];return Object(n.useEffect)((function(){fetch(Le.concat("/national-election")).then((function(e){return e.json()}),je).then((function(e){s(e)})),fetch(Le.concat("/national-gdp")).then((function(e){return e.json()})).then((function(e){y(e)})),function(e){return fetch(Le.concat("/national-industry?industry=".concat(e))).then((function(e){return e.json()}))}(l).then((function(e){g(e)}))}),[l]),r.a.createElement("div",{id:"NationalTrends"},r.a.createElement("h3",null,"USA"),r.a.createElement(Ge,{electionData:a,gdpData:h,industry:l,industryGDP:f,setIndustry:c}))};a(401);var Ye=function(){var e,t=Object(n.useState)(null),a=Object(ue.a)(t,2),s=a[0],i=a[1];return document.title="Trends","National"===s?e=r.a.createElement(Ae,null):"State"===s?e=r.a.createElement(Re,null):"County"===s&&(e=r.a.createElement(xe,null)),r.a.createElement("div",{id:"TrendPage"},r.a.createElement("button",{onClick:function(){return i("National")}},"National Trends"),r.a.createElement("button",{onClick:function(){return i("State")}},"State Trends"),r.a.createElement("button",{onClick:function(){return i("County")}},"County Trends"),e)},Fe="http://localhost:5000/api/v1",Te=(Fe="https://election-app-server.herokuapp.com/api/v1")+"/map",Me=Fe+"/graph",Le=Fe+"/trends",Ue=Fe+"/county";var _e=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,{basename:"/electecon"},r.a.createElement(c,null),r.a.createElement("div",{id:"main"},r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/map",exact:!0,component:function(){return r.a.createElement(ce,null)}}),r.a.createElement(l.b,{path:"/graph",exact:!0,component:function(){return r.a.createElement(ke,null)}}),r.a.createElement(l.b,{path:"/trends",exact:!0,component:function(){return r.a.createElement(Ye,null)}}),r.a.createElement(l.b,{path:"/county/:fips",component:function(e){return r.a.createElement(H,e)}}),r.a.createElement(l.b,{path:"/county/",component:function(e){return r.a.createElement(H,e)}}),r.a.createElement(l.b,{render:function(){return r.a.createElement(l.a,{to:"/map"})}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_e,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[207,1,2]]]);
//# sourceMappingURL=main.4b814995.chunk.js.map